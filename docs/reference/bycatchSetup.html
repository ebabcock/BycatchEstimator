<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Sets global conditions and makes a preliminary data summary."><title>Bycatch estimation model setup — bycatchSetup • BycatchEstimator</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Bycatch estimation model setup — bycatchSetup"><meta property="og:description" content="Sets global conditions and makes a preliminary data summary."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">BycatchEstimator</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/UserGuide2.html">Bycatch-Estimator User Guide</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Bycatch estimation model setup</h1>
      
      <div class="d-none name"><code>bycatchSetup.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Sets global conditions and makes a preliminary data summary.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">bycatchSetup</span><span class="op">(</span></span>
<span>  modelTry <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Delta-Lognormal"</span>, <span class="st">"Delta-Gamma"</span>, <span class="st">"TMBnbinom1"</span>, <span class="st">"TMBnbinom2"</span>,</span>
<span>    <span class="st">"TMBtweedie"</span><span class="op">)</span>,</span>
<span>  <span class="va">obsdat</span>,</span>
<span>  <span class="va">logdat</span>,</span>
<span>  <span class="va">yearVar</span>,</span>
<span>  <span class="va">obsEffort</span>,</span>
<span>  <span class="va">logEffort</span>,</span>
<span>  logUnsampledEffort <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  includeObsCatch <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  matchColumn <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  <span class="va">factorNames</span>,</span>
<span>  <span class="va">EstimateIndex</span>,</span>
<span>  <span class="va">EstimateBycatch</span>,</span>
<span>  <span class="va">logNum</span>,</span>
<span>  <span class="va">sampleUnit</span>,</span>
<span>  <span class="va">complexModel</span>,</span>
<span>  <span class="va">simpleModel</span>,</span>
<span>  <span class="va">indexModel</span>,</span>
<span>  baseDir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">runName</span>,</span>
<span>  <span class="va">runDescription</span>,</span>
<span>  <span class="va">common</span>,</span>
<span>  <span class="va">sp</span>,</span>
<span>  <span class="va">obsCatch</span>,</span>
<span>  <span class="va">catchUnit</span>,</span>
<span>  <span class="va">catchType</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>modelTry</dt>
<dd><p>Specify which observation error models to try. Options are: "Binomial", "Normal","Lognormal", "Delta-Lognormal", "Delta-Gamma", "NegBin" for Negative binomial" using glm.mb in the MASS library, "Tweedie" for Tweedie GLM from the cpglm library, and "TMBnbinom1", "TMBnbinom2", and "TMBtweedie" for negative binomial 1, negative binomial 2 and Tweedie from the GLMMTMB library. Binomial is run automatically as part of the delta models if either of them are selected.</p></dd>


<dt>obsdat</dt>
<dd><p>Observer data set</p></dd>


<dt>logdat</dt>
<dd><p>Logbook data set</p></dd>


<dt>yearVar</dt>
<dd><p>Character. The name of the year variable in <code>obsdat</code> and <code>logdat</code>. Both input files must contain the same variable name for year.</p></dd>


<dt>obsEffort</dt>
<dd><p>Character. The name of the effort variable in <code>obsdat</code>. This variable must have the same effort units as <code>logEffort</code></p></dd>


<dt>logEffort</dt>
<dd><p>Character. The name of the effort variable in <code>logdat</code>. Optional and only used when estimating bycatch. This variable must have the same effort units as <code>obsEffort</code></p></dd>


<dt>logUnsampledEffort</dt>
<dd><p>Character. The name of the unsampled effort variable in in <code>logdat</code>. Optional and used to specify a column for effort that is not sampled, in trips with observers. This can be zero in all cases if observers sample 100% of effort in sampled trips. Only used when <code>includeObsCatch</code> is TRUE</p></dd>


<dt>includeObsCatch</dt>
<dd><p>Logical. Set to TRUE if (1) the observed sample units can be matched to the logbook sample units and (2) you want to calculate total bycatch as the observed bycatch plus the predicted unobserved bycatch. This doesn't work with aggregated logbook effort.</p></dd>


<dt>matchColumn</dt>
<dd><p>Character. If <code>includeObsCatch</code> is TRUE, give the name of the column that matches sample units between the observer and logbook data. Otherwise, this can be NA</p></dd>


<dt>factorNames</dt>
<dd><p>Character vector. Specify which variables should be interpreted as categorical, ensuring imposes factor format on these variables. Variables not in this list will retain their original format. These variables must have identical names and factor levels in <code>obsdat</code> and <code>logdat</code></p></dd>


<dt>EstimateIndex</dt>
<dd><p>Logical. What would you like to estimate? You may calculate either an annual abundance index, or total bycatch, or both.</p></dd>


<dt>EstimateBycatch</dt>
<dd><p>Logical. What would you like to estimate? You may calculate either an annual abundance index, or total bycatch, or both. If you want total bycatch, you must provide logbook data or some other source of total effort to <code>logdat</code>.</p></dd>


<dt>logNum</dt>
<dd><p>Character vector. The name of the column in <code>logdat</code> that gives the number of sample units (e.g., trips or sets). If the logbook data is not aggregated (i.e. each row is a sample unit) set value to NA</p></dd>


<dt>sampleUnit</dt>
<dd><p>Character. What is the sample unit in <code>logdat</code>? e.g. sets or trips.</p></dd>


<dt>complexModel</dt>
<dd><p>Specify as stats::formula. Specify the most complex and simplest model to be considered. The code will find compare all intermediate models using information criteria.</p></dd>


<dt>simpleModel</dt>
<dd><p>Specify as stats::formula.</p></dd>


<dt>indexModel</dt>
<dd><p>Specify as stats::formula. Use indexModel to specify which strata to keep separate in calculating abundance indices.</p></dd>


<dt>baseDir</dt>
<dd><p>Character. A directory to save output. Defaults to current working directory.</p></dd>


<dt>runName</dt>
<dd><p>Characer. Give a name to the run, which will be used to set up a directory for the outputs</p></dd>


<dt>runDescription</dt>
<dd><p>Character. Brief summary of the run, which will be used to set up a directory for the outputs</p></dd>


<dt>common</dt>
<dd><p>Character vector. Provide a common name for the species used in bycatch and index estimation. Can be a vector of names to do multiple species at the same time.</p></dd>


<dt>sp</dt>
<dd><p>Character vector. Provide a scientific name for the species used in bycatch and index estimation. Can be a vector of names to do multiple species at the same time</p></dd>


<dt>obsCatch</dt>
<dd><p>Character vector. The name of the column(s) in <code>obsdat</code> that contain catch. If it is a vector, order of variable names must follow the same order as names provided in <code>common</code> and <code>sp</code></p></dd>


<dt>catchUnit</dt>
<dd><p>Character vector. Give units of catch (e.g., number) to go in plot labels. Must be a vector of the same length as <code>sp</code></p></dd>


<dt>catchType</dt>
<dd><p>Character vector. Give type of catch (e.g., dead discards) to go in plot labels. Must be a vector of the same length as <code>sp</code></p></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ebabcock.github.io/BycatchEstimator/">BycatchEstimator</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">setupObj</span><span class="op">&lt;-</span><span class="fu">bycatchSetup</span><span class="op">(</span></span></span>
<span class="r-in"><span>modelTry <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Delta-Lognormal"</span>,<span class="st">"Delta-Gamma"</span>,<span class="st">"TMBnbinom1"</span>,<span class="st">"TMBnbinom2"</span>,<span class="st">"TMBtweedie"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>obsdat <span class="op">=</span> <span class="va">obsdatExample</span>,</span></span>
<span class="r-in"><span>logdat <span class="op">=</span> <span class="va">logdatExample</span>,</span></span>
<span class="r-in"><span>yearVar <span class="op">=</span> <span class="st">"Year"</span>,</span></span>
<span class="r-in"><span>obsEffort <span class="op">=</span> <span class="st">"sampled.sets"</span>,</span></span>
<span class="r-in"><span>logEffort <span class="op">=</span> <span class="st">"sets"</span>,</span></span>
<span class="r-in"><span>logUnsampledEffort <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>includeObsCatch  <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>matchColumn <span class="op">=</span> <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>factorNames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Year"</span>,<span class="st">"season"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>EstimateIndex <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>EstimateBycatch <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>logNum <span class="op">=</span> <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>sampleUnit <span class="op">=</span> <span class="st">"trips"</span>,</span></span>
<span class="r-in"><span>complexModel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a></span><span class="op">(</span><span class="va">y</span><span class="op">~</span><span class="op">(</span><span class="va">Year</span><span class="op">+</span><span class="va">season</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>simpleModel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a></span><span class="op">(</span><span class="va">y</span><span class="op">~</span><span class="va">Year</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>indexModel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a></span><span class="op">(</span><span class="va">y</span><span class="op">~</span><span class="va">Year</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>baseDir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>runName <span class="op">=</span> <span class="st">"SimulatedExample"</span>,</span></span>
<span class="r-in"><span>runDescription <span class="op">=</span> <span class="st">"Example with simulated data"</span>,</span></span>
<span class="r-in"><span>common <span class="op">=</span> <span class="st">"Simulated species"</span>,</span></span>
<span class="r-in"><span>sp <span class="op">=</span> <span class="st">"Genus species"</span>,</span></span>
<span class="r-in"><span>obsCatch <span class="op">=</span> <span class="st">"Catch"</span>,</span></span>
<span class="r-in"><span>catchUnit <span class="op">=</span> <span class="st">"number"</span>,</span></span>
<span class="r-in"><span>catchType <span class="op">=</span> <span class="st">"dead discard"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Elizabeth Babcock.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>


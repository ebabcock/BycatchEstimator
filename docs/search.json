[{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"introduction-and-agenda","dir":"Articles","previous_headings":"","what":"Introduction and Agenda","title":"Material from 2025 ICCAT Training Course","text":"document includes slides R tutorials ICCAT BycatchEstimator training Panama City, Panama July, 2025. slides tutorials listed order presented. Agenda","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"presentation-1--overview-of-the-bycatchestimator-r-package","dir":"Articles","previous_headings":"","what":"Presentation 1. Overview of the BycatchEstimator R Package","title":"Material from 2025 ICCAT Training Course","text":"Slides overview","code":""},{"path":[]},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"install-and-load-the-library-","dir":"Articles","previous_headings":"Tutorial 1. Introduction to the BycatchEstimator Tool","what":"Install and load the library.","title":"Material from 2025 ICCAT Training Course","text":"Start loading libraries, installing needed. Note BycatchEstimator open libraries needs, including tidyverse. guidance, see : https://ebabcock.github.io/BycatchEstimator/articles/InstallationGuide.html","code":"#devtools::install_github(\"ebabcock/BycatchEstimator\") library(BycatchEstimator) library(MuMIn)"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"look-at-format-of-the-input-data-","dir":"Articles","previous_headings":"Tutorial 1. Introduction to the BycatchEstimator Tool","what":"Look at format of the input data.","title":"Material from 2025 ICCAT Training Course","text":"bycatch estimation, two data sources, observer data, one row per sample unit (sets trips) logbook data. CPUE standardization, observer data needed. package includes simulated longline observer data LLSIM, toy example data set. toy data: trip trip observer data benthic longline fishery. variables need Catch, bycatch species, sampled.sets, unit effort, variables Year, EW season, define stratification design-based estimate serve predictor variables model-base estimates. CPUE terms Catch/sampled.sets. corresponding logbook data : logbook data must include effort bycatch estimates needed (.e.whole fleet). logbook data contains one row per trip, observer data. logbook data also aggregated, column giving sample size per row (trips 1 rows). logbook data must include effort units observer data (case sets), predictor variables (case Year, EW, season).","code":"summary(obsdatExample) ##       EW                season           Year       sampled.sets      ##  Length:394         Min.   :1.000   Min.   :2009   Min.   :  0.7347   ##  Class :character   1st Qu.:1.000   1st Qu.:2011   1st Qu.: 17.9600   ##  Mode  :character   Median :1.000   Median :2013   Median : 22.4808   ##                     Mean   :1.398   Mean   :2013   Mean   : 30.1655   ##                     3rd Qu.:2.000   3rd Qu.:2015   3rd Qu.: 46.4658   ##                     Max.   :2.000   Max.   :2018   Max.   :107.7441   ##      Catch        ##  Min.   : 0.000   ##  1st Qu.: 0.000   ##  Median : 0.000   ##  Mean   : 1.109   ##  3rd Qu.: 0.000   ##  Max.   :33.000 dim(obsdatExample) ## [1] 394   5 summary(logdatExample) ##       sets               Year          season           EW            ##  Min.   :  0.4343   Min.   :2009   Min.   :1.000   Length:7794        ##  1st Qu.: 13.1870   1st Qu.:2011   1st Qu.:1.000   Class :character   ##  Median : 25.3512   Median :2013   Median :1.000   Mode  :character   ##  Mean   : 28.2885   Mean   :2013   Mean   :1.415                      ##  3rd Qu.: 38.4678   3rd Qu.:2016   3rd Qu.:2.000                      ##  Max.   :529.8817   Max.   :2018   Max.   :2.000                      ##      trips   ##  Min.   :1   ##  1st Qu.:1   ##  Median :1   ##  Mean   :1   ##  3rd Qu.:1   ##  Max.   :1 dim(logdatExample) ## [1] 7794    5"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"bycatchsetup","dir":"Articles","previous_headings":"Tutorial 1. Introduction to the BycatchEstimator Tool","what":"bycatchSetup","title":"Material from 2025 ICCAT Training Course","text":"first step bycatch estimation setup input file review verify data. Notice returned value bycatchSetup assigned object used subsequent steps applying design-based estimators (bycatchDesign) model fitting (bycatchFit). step produces output saved working directory user review. inputs bycatchSetup function explained help file. see function : help file explains inputs. Read see options . User’s Guide goes much detail. now, let’s run simulated example data. First set working directory want outputs , example: Now copy paste example console R script run : tool printed output files directory specified baseDir subdirectory named runName. example, created folder “OutputSimulated”, inside subfolder named “Simltdspcscatch”, abbreviation species common name catch type. subfolder, find html report results, another subfolder named “Setup files”. html file called “SimltdspcscatchDataChecks.html” contains summary figures tables showing sample size presence/absence bycatch species across levels predictor variables, observer coverage levels, raw trends CPUE, summary available data. also indicates missing data NAs warning messages top file. tool also produced csv files inside “bycatchSetup files” folder. contain data summaries Year factor variables. information see Appendix User Guide. point, fishery /observer coverage low, check make sure least positive observations year. year positive observations, delta models work. example 1 positive observation last two years (2017 2018), crash, can expect models perform badly. last two columns data summary table (Table 2) ratio estimator unstratified (except year) quick reality check expected magnitude total bycatch (columns “Cat” “Cse”).","code":"?bycatchSetup # Commented out so it will not run, because every computer has a different path.  # setwd(\"~/Tutorials\") setupObj<-bycatchSetup(   obsdat = obsdatExample,   logdat = logdatExample,   yearVar = \"Year\",   obsEffort = \"sampled.sets\",   logEffort = \"sets\",   obsCatch = \"Catch\",   catchUnit = \"number\",   catchType = \"catch\",   logNum = NA,   sampleUnit = \"trips\",   factorVariables = c(\"Year\",\"EW\",\"season\"),   numericVariables = NA,   EstimateBycatch = TRUE,   baseDir = getwd(),   runName = \"Simulated\",   runDescription = \"Simulated example species\",   common = \"Simulated species\",   sp = \"Genus species\",   reportType = \"html\" )"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"bycatchdesign","dir":"Articles","previous_headings":"Tutorial 1. Introduction to the BycatchEstimator Tool","what":"bycatchDesign","title":"Material from 2025 ICCAT Training Course","text":"bycatchDesign function generates design-based estimates total bycatch, e.g. using stratified ratio estimator. don’t run function using model-based estimates (see ). inputs bycatchDesign explained help file: can use code: tool now printed another html file named “SimltdspcscatchwithPoolingDesignResults.html”. available estimator types stratified ratio estimator, stratified design-based delta-lognormal estimator. also created subfolder “Design files”, contain csv files summaries file “withPooling” name, gives information much pooling done. example, pooling requested less one sample unit (trip) adjacent years season, enough eliminate zero estimates strata (see SimltdspcscatchwithPoolingDesignStrata.csv). return later.","code":"?bycatchDesign bycatchDesign( setupObj = setupObj, designScenario = \"withPooling\", designMethods = c(\"Ratio\", \"Delta\"), designVars = c(\"Year\",\"season\"), designPooling = TRUE, poolTypes=c(\"adjacent\",\"all\"), pooledVar=c(NA,NA), adjacentNum=c(1,NA), minStrataUnit = 1 )"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"bycatchfit","dir":"Articles","previous_headings":"Tutorial 1. Introduction to the BycatchEstimator Tool","what":"bycatchFit","title":"Material from 2025 ICCAT Training Course","text":"bycatchFit function model-based estimates. function specifications regarding setting model variables, model selection (information criterion use), use random effects, etc. function uses information criteria find best set predictor variables kind model listed modelTry. can also cross validation desired. prints model based estimates, diagnostics, selection criteria. now html file named “Simltdspcscatchmodel1ModelResults.html” output directory includes figures plots. addition, model outputs printed .csv files later use inside folder “Fit files”.","code":"?bycatchFit bycatchFit( setupObj = setupObj, modelScenario = \"model1\", complexModel = formula(y~(Year+season)^2), simpleModel = formula(y~Year), indexModel = formula(y~Year), modelTry = c(\"Delta-Lognormal\",\"TMBnbinom2\"), randomEffects = NULL, randomEffects2 = NULL, selectCriteria = \"BIC\", DoCrossValidation = TRUE, CIval = 0.05, VarCalc = \"Simulate\", useParallel = TRUE, nSims = 1000 )"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"presentation-2--data-setup-and-data-checks","dir":"Articles","previous_headings":"","what":"Presentation 2. Data setup and data checks","title":"Material from 2025 ICCAT Training Course","text":"Slides data setup data checks","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"tutorial-2--data-setup-and-data-checks-with-the-bycatchsetup-function","dir":"Articles","previous_headings":"","what":"Tutorial 2. Data setup and data checks with the bycatchSetup function","title":"Material from 2025 ICCAT Training Course","text":"tutorial explains outputs produced running bycatchSetup interpret (look terms potential issues data). First load libraries: use simulated longline data Phil Goodyear’s species distribution longline fishery simulator. data logbook observer data trip--trip. variable called trip can used match sampled trips observer data corresponding trips logbook. Now let’s run bycatchSetup following arguments: look html file results “Blue marlin Data checks”. output starts section contains Data warnings. tool print warnings NAs either observer logbook data; levels factor variables present observer data logbook data (vice-versa); range numeric variable consistent observer logbook data (points 5% outside range values). Zero values effort observer data also give warning. example warnings errors. Next Summary Tables. Table 1 shows comparison total sample units (trips sets) effort units observer logbook data, proportion sample units effort units. Table 2 gives data summary year, including effort sample units logbook observer data, mean CPUE standard error, number outliers. details column see Appendix User Guide. columns “Cat” “Cse” contain estimated catch using unstratified ratio estimator corresponding standard error. following section contains figures comparing observer vs. logbook effort, sample units variables. figures allow see large discrepancies observer logbook data. Figure 1: barplot total effort comparison factor variable corresponding factor levels Figure 2: barplot total number trips factor variable corresponding factor levels Figure 3: total number trips numeric variable (effort included) Figure 4: diagonal shows histograms/density plot numeric variable, represent distribution variable; lower triangle shows scatterplots pair variables, allowing spot correlations outliers; upper triangle shows correlation coefficients Figure 5: diagonal shows frequency/counts factor level; lower upper triangle shows mosaic plot pair variables, size/area bar proportional number observations level also barplots showing presence/absence bycatch species observer data year level categorical numeric variables (Figures 6 - 8); total catch observer data factor numeric variables (Figures 9); catch per sample unit observer data factor numeric variables (Figures 10 - 12); catch per unit effort (CPUE) observer data factor numeric variables, including effort variable (Figures 14 - 16). Model-based estimation methods work non-zero catches across levels variable. Numerical variables can introduce bias observed data include full range values whole fishery. Also, check instances high CPUE. may happen catch occurs set/trip low recorded effort, outliers may bias results. Design-based estimates require observations strata. strata observations, consider pooling.","code":"# devtools::install_github(\"ebabcock/BycatchEstimator\")  #Make sure library is installed and up to date library(BycatchEstimator) library(MuMIn) library(dplyr) library(ggplot2) print(head(LLSIM_BUM_Example_observer)) ## # A tibble: 6 × 22 ##    ...1 trip    Year month  gear light fleet  bait  hook hooks  sets   SWO   BUM ##   <dbl> <chr>  <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> ## 1     2 10.19…  1990     4    10     1     1     2     4  0.5      1     4     0 ## 2     3 10.19…  1990     7    10     1     1     2     4  4.5      9    31     0 ## 3     4 10.19…  1990     8    10     1     1     2     4  1.15     2     7     0 ## 4     5 10.19…  1991     2    10     1     1     2     4  0.5      1     2     0 ## 5     6 10.19…  1992    10    10     1     1     2     4  1.2      2     7     0 ## 6     7 10.19…  1993     5    10     1     1     2     4  2.5      5    14     0 ## # ℹ 9 more variables: lat5 <dbl>, lon5 <dbl>, lat <dbl>, lon <dbl>, hbf <dbl>, ## #   habSWO <dbl>, habBUM <dbl>, season <dbl>, area <chr> print(head(LLSIM_BUM_Example_logbook)) ## # A tibble: 6 × 25 ##    ...1 trip    Year month  gear light fleet  bait  hook hooks  sets   SWO   BUM ##   <dbl> <chr>  <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> ## 1     1 1.200…  2009     4     1     1     1     2     1 2         4    14     0 ## 2    51 10.19…  1990     1    10     1     1     2     4 0.5       1     2     0 ## 3    52 10.19…  1990     1    10     1     1     2     4 1.5       3     4     0 ## 4    53 10.19…  1990     1    10     1     1     2     4 1.5       3     8     0 ## 5    54 10.19…  1990    10    10     1     1     2     4 0.516     1     5     0 ## 6    55 10.19…  1990    10    10     1     1     2     4 3         6    19     0 ## # ℹ 12 more variables: lat5 <dbl>, lon5 <dbl>, lat <dbl>, lon <dbl>, hbf <dbl>, ## #   habSWO <dbl>, habBUM <dbl>, trip.05 <dbl>, trips <dbl>, season <dbl>, ## #   area <chr>, unsampledEffort <dbl> setupObj<-bycatchSetup(   obsdat = LLSIM_BUM_Example_observer,   logdat = LLSIM_BUM_Example_logbook,   yearVar = \"Year\",   obsEffort = \"hooks\",   logEffort = \"hooks\",   obsCatch = c(\"SWO\",\"BUM\")[2], # selecting Blue marlin catch   catchUnit = \"number\",   catchType = \"catch\",   logNum = NA,   sampleUnit = \"trips\",   factorVariables = c(\"area\",\"fleet\",\"season\"),   numericVariables = c(\"Year\",\"hbf\"), ## add some numeric variables to show in plots   EstimateBycatch = TRUE,   baseDir = getwd(),   runName = \"LLSIMBUMSetup\",   runDescription = \"LLSIm BUM\",   common = c(\"Swordfish\",\"Blue marlin\")[2], # selecting Blue marlin   sp = c(\"Xiphias gladius\",\"Makaira nigricans\")[2] # selecting Blue marlin )"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"presentation-3--design-based-estimation","dir":"Articles","previous_headings":"","what":"Presentation 3. Design-Based estimation","title":"Material from 2025 ICCAT Training Course","text":"Slides design-based estimation","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"tutorial-3--design-based-estimation-with-the-bycatchdesign-function","dir":"Articles","previous_headings":"","what":"Tutorial 3. Design-based estimation with the bycatchDesign function","title":"Material from 2025 ICCAT Training Course","text":"tutorial gives practice working design-based estimators, including different pooling methods, using data sets included tool. First load libraries: understand stratified estimators work, let’s stratify year, fleet area (N vs. S Atlantic). bycatch response variable catch blue marlin BUM effort hooks. Run first bycatchSetup setting data, using simulated longline data:","code":"# devtools::install_github(\"ebabcock/BycatchEstimator\")  #Make sure library is installed and up to date library(BycatchEstimator) library(MuMIn) library(dplyr) library(ggplot2) setupObj<-bycatchSetup(   obsdat = LLSIM_BUM_Example_observer,   logdat = LLSIM_BUM_Example_logbook,   yearVar = \"Year\",   obsEffort = \"hooks\",   logEffort = \"hooks\",   obsCatch = c(\"SWO\",\"BUM\")[2], # selecting Blue marlin catch   catchUnit = \"number\",   catchType = \"catch\",   logNum = NA,   sampleUnit = \"trips\",   factorVariables = c(\"area\",\"fleet\",\"month\",\"season\"),   numericVariables = c(\"Year\"),   EstimateBycatch = TRUE,   baseDir = getwd(),   runName = \"LLSIMBUM\",   runDescription = \"LLSIMBUM\",   common = c(\"Swordfish\",\"Blue marlin\")[2], # selecting Blue marlin   sp = c(\"Xiphias gladius\",\"Makaira nigricans\")[2] # selecting Blue marlin )"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"with-no-pooling","dir":"Articles","previous_headings":"Tutorial 3. Design-based estimation with the bycatchDesign function","what":"With no pooling","title":"Material from 2025 ICCAT Training Course","text":"run bycatchDesign, first pooling: can look html file “Blue marlin catch Design-based estimation results” results. Within folder “bycatchDesign files”, file called “designStrata”, summarizes design-based estimates stratification variables. open file called designStrata, can see strata zero estimates. may mean combinations designVars Year, season area effort logbooks, sampled observers. can also see zero estimates csv file “StrataSummary” produced bycatchSetup. , see strata, logbook effort observer effort. can resolve pooling. need add inputs define pooling.","code":"bycatchDesign(   setupObj = setupObj,   designScenario = \"NoPooling\",   designMethods = c(\"Ratio\", \"Delta\"),   designVars = c(\"Year\",\"area\",\"fleet\"),   designPooling = FALSE )"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"with-pooling","dir":"Articles","previous_headings":"Tutorial 3. Design-based estimation with the bycatchDesign function","what":"With pooling","title":"Material from 2025 ICCAT Training Course","text":"example, pooled year, area fleet, order. stratum less equal minStrataUnit=2 trips, pooled two years , total 5 years. file called “Pooling.csv” gives details pooling worked stratum, also shown figure designResults. column poolnum gives level pooling, 1 just first variable (Year), 2 second variable, etc. column pooled.n give sample size pool stratum, can observed n stratum, n minimum. example, look Year 1996, fleet 3, area N.  can see years 1996 1998 needed pooled (units 2 less). effort 1994 1995 area fleet. pool year 1996 1996 1997, gave pooled sample size (pooled.n) 2+3+1=6. minStrataUnit, pool sufficient poolnum one, meaning pooling. pooled.n value 1998 make sense? Let’s look stratum needed pooling. fleet one trip area 2003, zero 2002 2004, combining years give enough trips pool 2004 estimate. , poolnum 2, pooled.n includes areas fleet year. html file shows fraction strata pooled level diagnostic pooling works intended (last figure).","code":"bycatchDesign(   setupObj = setupObj,   designScenario = \"Pool2\", #update name   designMethods = c(\"Ratio\", \"Delta\"),   designVars = c(\"Year\",\"area\",\"fleet\"),   designPooling = TRUE, #Make this TRUE   poolTypes = c(\"adjacent\",\"all\",\"all\"),  #Pool by adjacent years, and all fleets or all areas   pooledVar = c(\"Year\",\"area\",\"fleet\"),  #Pool variables in this order   adjacentNum = c(2,NA,NA),  #Pool 2 years before and after   minStrataUnit = 2,  #Pool if there are 2 or fewer trips in a stratum ) pooling<-read.csv(\"OutputLLSIMBUM/Bluemarlincatch/Design files/BluemarlincatchPool2Pooling.csv\")  head(pooling) ##   Year area fleet totalUnits totalEffort units   effort pooled.n poolnum ## 1 1990    N     1       1445    5442.777    71  248.057       71       0 ## 2 1990    N     2        787   27553.331    48 1514.269       48       0 ## 3 1990    S     2        887   51579.501    41 2059.257       41       0 ## 4 1990    S     3         99    5237.189     4  234.972        4       0 ## 5 1991    N     1       1339    6007.066    63  311.781       63       0 ## 6 1991    N     2        777   27417.542    33  953.047       33       0 ##   pooledTotalUnits pooledTotalEffort ## 1             1445          5442.777 ## 2              787         27553.331 ## 3              887         51579.501 ## 4               99          5237.189 ## 5             1339          6007.066 ## 6              777         27417.542 pooling%>%   mutate(Pooling=as.character(poolnum)) %>%   mutate(Pooling=ifelse(is.na(Pooling),paste0(\">\",max(poolnum,na.rm=TRUE)),Pooling))%>%   ggplot()+   geom_bar(aes(x=Year,fill=Pooling))+   ggtitle(\"Count of strata per year with number of dimensions pooled\") #pull out an exmple filter(pooling,Year %in% 1994:2000, fleet==3, area==\"N\") ##   Year area fleet totalUnits totalEffort units  effort pooled.n poolnum ## 1 1996    N     3         16     716.070     2  56.745        6       1 ## 2 1997    N     3         23     618.744     3  72.905        3       0 ## 3 1998    N     3         32    1048.560     1  43.460       16       1 ## 4 1999    N     3         77    2462.130     4  30.343        4       0 ## 5 2000    N     3        106    3446.658     6 182.930        6       0 ##   pooledTotalUnits pooledTotalEffort ## 1               71          2383.374 ## 2               23           618.744 ## 3              254          8292.162 ## 4               77          2462.130 ## 5              106          3446.658 filter(pooling,Year %in% 2002:2006, fleet==1) ##   Year area fleet totalUnits totalEffort units  effort pooled.n poolnum ## 1 2002    N     1        919    6151.136    51 310.138       51       0 ## 2 2002    S     1         17      60.102     0   0.000        4       1 ## 3 2003    N     1        899    6195.748    40 240.244       40       0 ## 4 2003    S     1          9      48.480     1   6.480        3       1 ## 5 2004    N     1        935    6470.181    53 347.879       53       0 ## 6 2004    S     1          5      16.000     0   0.000      226       2 ## 7 2005    N     1        825    5319.083    39 291.849       39       0 ## 8 2006    N     1        825    5160.586    42 298.967       42       0 ##   pooledTotalUnits pooledTotalEffort ## 1              919          6151.136 ## 2               63           286.179 ## 3              899          6195.748 ## 4               50           234.780 ## 5              935          6470.181 ## 6             4434         29421.316 ## 7              825          5319.083 ## 8              825          5160.586 nrow(filter(LLSIM_BUM_Example_observer,Year %in% 2002:2006,fleet==1)) ## [1] 226"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"with-pooling-and-a-higher-minimum-catch-threshold","dir":"Articles","previous_headings":"Tutorial 3. Design-based estimation with the bycatchDesign function","what":"With pooling and a higher minimum catch threshold","title":"Material from 2025 ICCAT Training Course","text":"Now try pooling higher minimum number observed trips:  can compare last plot html file previous results pooling minStrataUnit=2. Another option pooling add another column data aggregated variable use original data doesn’t meet minimum sample size requirement. example, strata months, variable pool (needed) season. Let’s try .  stratification scheme requires pooling nearly strata. still works, resulting estimates somewhat smoothed pooling process.","code":"bycatchDesign(   setupObj = setupObj,   designScenario = \"Pool5\", #update name   designMethods = c(\"Ratio\", \"Delta\"),   designVars = c(\"Year\",\"area\",\"fleet\"),   designPooling = TRUE,   poolTypes = c(\"adjacent\",\"all\",\"all\"),    pooledVar = c(\"Year\",\"area\",\"fleet\"),   adjacentNum = c(2,NA,NA),   minStrataUnit = 5 #Pool if there are 5 or fewer trips in a stratum ) pooling<-read.csv(\"OutputLLSIMBUM/Bluemarlincatch/Design files/BluemarlincatchPool5Pooling.csv\")  pooling%>%   mutate(Pooling=as.character(poolnum)) %>%   mutate(Pooling=ifelse(is.na(Pooling),paste0(\">\",max(poolnum,na.rm=TRUE)),Pooling))%>%   ggplot()+   geom_bar(aes(x=Year,fill=Pooling))+   ggtitle(\"Count of strata per year with number of dimensions pooled\") bycatchDesign(   setupObj = setupObj,   designScenario = \"PoolMonth\", #update name   designMethods = c(\"Ratio\", \"Delta\"),   designVars = c(\"Year\",\"area\",\"fleet\", \"month\"), #added month as design variable   designPooling = TRUE,   poolTypes = c(\"adjacent\",\"all\",\"all\",\"pooledVar\"),    pooledVar = c(\"Year\",\"area\",\"fleet\",\"season\"),   adjacentNum = c(2,NA,NA,NA),   minStrataUnit = 5 ) pooling<-read.csv(\"OutputLLSIMBUM/Bluemarlincatch/Design files/BluemarlincatchPoolMonthPooling.csv\")  pooling%>%   mutate(Pooling=as.character(poolnum)) %>%   mutate(Pooling=ifelse(is.na(Pooling),paste0(\">\",max(poolnum,na.rm=TRUE)),Pooling))%>%   ggplot()+   geom_bar(aes(x=Year,fill=Pooling))+   ggtitle(\"Count of strata per year with number of dimensions pooled\")"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"presentation-4--model-based-estimation-and-diagnostics","dir":"Articles","previous_headings":"","what":"Presentation 4. Model based estimation and diagnostics","title":"Material from 2025 ICCAT Training Course","text":"Slides model-based estimation Slides model diagnostics model comparison","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"tutorial-4-model-fitting-model-selection-and-diagnostics-with-bycatchfit","dir":"Articles","previous_headings":"","what":"Tutorial 4: Model fitting, model selection and diagnostics with bycatchFit","title":"Material from 2025 ICCAT Training Course","text":"tutorial run model fit function evaluate model selection diagnostics, including: Checking model able fit using cross-validation compare best model group. Selecting predictor variables using information criteria within group models. Checking model diagnostics, quantile residuals. Comparing bycatch predictions best model group. Choosing best model. Model fitting model selection can slow. , purposes demonstration, limit data 5 year period run faster. try multiple models, define modelTry bycatchFit. input modelTry list model types fit possibly compare cross-validation. explained bycatchFit help file. model type starts TMB, fit Template Model Builder using glmmTMB library, otherwise fit using R libraries, including ordinary lm glm. Results Tweedie vs. TMBtweedie, NegBin vs. TMBnbinom2 identical. inputs complexModel simpleModel give range models evaluated information criteria model group. simpleModel include interactions. First run bycatchSetup 5 years data: Now run bycatchFit. input setupObj output bycatchSetup. selectCriteria used select best combination predictor variables. may criteria ranking models MuMIn dredge function. Bayesian information criterion (BIC) works well. model running, prints text models selected, can ignore. done says “1 Blue marlin complete” along time. Tables figures printed html file called “Bluemarlincatchscen1Modelresults”, along .csv files data figures tables inside folder “Fit files”. first section html output gives review input settings model-based estimation (arguments defined bycatchFit). second section gives results model comparison. Table 1 shows models able fit summary results cross-validation compared best model across groups terms ability predict CPUE. best model defined lowest RMSE (root mean squared error) (mean error) closest zero. delta models, like delta-lognormal, binomial lognormal models used together predict CPUE, binomial model doesn’t ’s value table. last column “Failure” checks models able fit (shown html version Table 1). dash model able fit successfully. model able fit, word saying model failed due “data” (meaning model able fit delta models due zero non-zero observations), “fit” (meaning model never converged) “CV” (meaning predicted CVs large). X model formula RMSE 1 TMBbinomial area + fleet + 1 + Year   2 TMBdelta-Lognormal area + fleet + 1 + Year 0.0673 -0.0012 3 TMBnbinom1 area + fleet + 1 + Year + offset(log(Effort)) 0.0673 0.0040 4 NegBin area + fleet + 1 + Year + offset(log(Effort)) 0.0668 0.0012 5 TMBnbinom2 area + fleet + 1 + Year + offset(log(Effort)) 0.0668 0.0012 6 TMBtweedie area + fleet + 1 + Year 0.0734 0.0011 Figure 2 html file shows boxplots RMSE across 10 folds cross validation. RMSE values similar models delta-lognormal lowest RMSE. csv files called “scen1rmse.csv” “scen1me.csv” numbers recreate figures.   Table 2 gives summary model diagnostics. diagnostics include test whether quantile residuals uniformly distributed (KS), overdispersion test, zero inflation test outlier test. cases, signficant P values indicate potential problems. usual hypothesis tests like , Null hypothesis data problem, larger datasets likely find significant P values. time, larger datasets robust minor violations model assumptions. case, negative binomal 2/NegBin delta lognormal pass tests, negative binomial 1 Tweedie failures. X TMBbinomial TMBdelta.Lognormal TMBnbinom1 NegBin TMBnbinom2 TMBtweedie KS.D 0.0540 0.0709 0.0590 0.0458 0.0279 0.0568 KS.p 0.3783 0.8282 0.2759 0.5894 0.9798 0.3190 Dispersion.ratio 1.0088 1.0106 1.5408 0.9058 0.9983 1.9923 Dispersion.p 0.9280 0.8880 0.0560 0.6800 0.6800 0.0000 ZeroInf.ratio 0.9984  1.0119 1.0355 1.0323 0.9981 ZeroInf.p 1.0000 1.0000 0.7840 0.3040 0.3120 0.9440 Outlier 0.0000 1.0000 1.0000 2.0000 1.0000 3.0000 Outlier.p 1.0000 0.4642 1.0000 0.3800 1.0000 0.4975 Table 3 provides parameter values fitted models, together likelihood residuals degrees freedom. Figure 1 shows time series total bycatch estimates valid models, 95% confidence interval calculated chosen variance calculation method. variance calculated, confidence interval shown. models different others, may indicate models consistent data. third section html output gives results model type. tables section show model selection tables select predictor variables using information criteria within model type listed modelTry. Previously Table 1, shown formula BIC best model model type. Model selection tables give information criteria models, sorted best worst, along model weights calculated informatrion criterion selected (BIC). r-squared values also shown. two models similar weight, might viable. example, Negative Binomial model (NegBin), best model includes area, fleet year. can see ranking models file labelled “modelSelectionNegbin.csv”. X.Intercept. area fleet season Year area.season AICc AIC BIC df logLik selectCriteria delta weight R2 -3.98 + +  -0.09  513.36 513.06 534.95 6 -250.53 534.95 0.00 1 0.14 -3.60 + + + -0.15  513.81 513.15 545.99 9 -247.57 545.99 11.04 0 0.18 -3.10 +   -0.14  536.66 536.52 551.11 4 -264.26 551.11 16.16 0 0.06 -3.38    -0.16  544.55 544.46 555.41 3 -269.23 555.41 20.46 0 0.01 -3.92 + + + -0.19 + 512.89 511.74 555.53 12 -243.87 555.53 20.58 0 0.23 -3.95  +  -0.15  541.76 541.55 559.79 5 -265.77 559.79 24.84 0 0.06 -2.75 +  + -0.20  535.64 535.23 560.77 7 -260.62 560.77 25.82 0 0.10 -3.02   + -0.22  543.48 543.17 565.07 6 -265.59 565.07 30.11 0 0.05 -3.53  + + -0.21  541.19 540.66 569.86 8 -262.33 569.86 34.90 0 0.11 -2.87 +  + -0.23 + 539.48 538.68 575.17 10 -259.34 575.17 40.21 0 0.12 html output four panel residual plot model type (example Figure 3 shows residuals TMBbinomial). four panels : () ordinary residuals, .e plotting y−ŷy-\\hat{y} ŷ\\hat{y}, (b) qqnormal plot ordinary residuals, (c) qquniform plot quantile residuals, (d) quantile residuals model predictions. Part c d plots generated DHARMa library. residuals calculated simulating data defined model likelihood function calculating quantile calculated data point. model adequately specified, scaled residuals uniformly distributed 0 1. seen points following line qq plot, median, 25th 75th percentiles (red lines d smooth) horizontal right place. ordinary residuals appropriate normal lognormal models. models complex variance functions integer responses (binomial negative binomial) quantile residuals appropriate. next figures shows observed vs predicted values model type, correlation test p-value smoothed trend line (example Figures 5, 8, 11, 14). last figure model type bycatch predictions best model model type. also saved csv files labelled “AnnualSummary”.  Choosing best model: possible completely automate problem model selection. case, models performed similarly cross validation, DIC preferred combination predictor variables models. models produced quite similar results, choosing one reasonable choice.","code":"# devtools::install_github(\"ebabcock/BycatchEstimator\")  #Make sure library is installed library(BycatchEstimator) library(MuMIn) library(tidyverse) library(flextable) obsdatTest<-filter(LLSIM_BUM_Example_observer,Year %in% 2011:2015) logdatTest<-filter(LLSIM_BUM_Example_logbook,Year %in% 2011:2015) setupObj<-bycatchSetup(   obsdat = obsdatTest,   logdat = logdatTest,   yearVar = \"Year\",   obsEffort = \"hooks\",   logEffort = \"hooks\",   obsCatch = c(\"SWO\",\"BUM\")[2], # selecting Blue marlin catch   catchUnit = \"number\",   catchType = \"catch\",   logNum = NA,   sampleUnit = \"trips\",   factorVariables = c(\"season\",\"area\",\"fleet\"),   numericVariables = c(\"Year\"),   EstimateBycatch = TRUE,   baseDir = getwd(),   runName = \"LLSIMBUMModel1\",   runDescription = \"LLSIm BUM with model comparison\",   common = c(\"Swordfish\",\"Blue marlin\")[2], # selecting Blue marlin   sp = c(\"Xiphias gladius\",\"Makaira nigricans\")[2] # selecting Blue marlin ) bycatchFit(   setupObj = setupObj,   modelScenario = \"scen1\",   complexModel = formula(y~Year+season+area+fleet +area:season), #upper range of models to compare with information criteria,   simpleModel = formula(y~Year), #lower range of models to compare,   indexModel = formula(y~Year),   modelTry = c(\"TMBdelta-Lognormal\",\"TMBnbinom1\",\"NegBin\",\"TMBnbinom2\",\"TMBtweedie\"), #model types to compare   randomEffects = NULL,   randomEffects2 = NULL,   selectCriteria = \"BIC\",   DoCrossValidation = TRUE,   CIval = 0.05,   VarCalc = \"DeltaMethod\",   useParallel = TRUE,   nSims = 100 ) crossval<-read.csv(\"OutputLLSIMBUMM1/Bluemarlincatch/Fit files/scen1crossvalSummary.csv\") crossval %>%   mutate_if(is.numeric,round,digits=4) %>%   flextable() rmse<-read.csv(\"OutputLLSIMBUMM1/Bluemarlincatch/Fit files/scen1rmse.csv\") %>%    pivot_longer(TMBdelta.Lognormal:TMBtweedie, names_to=\"Model\", values_to=\"RMSE\")  ggplot(rmse,aes(x=Model,y=RMSE)) + geom_boxplot() me<-read.csv(\"OutputLLSIMBUMM1/Bluemarlincatch/Fit files/scen1me.csv\") %>%    pivot_longer(TMBdelta.Lognormal:TMBtweedie, names_to=\"Model\", values_to=\"ME\")  ggplot(me,aes(x=Model,y=ME)) + geom_boxplot() diagnostics_summary<-read.csv(\"OutputLLSIMBUMM1/Bluemarlincatch/Fit files/scen1modelSummary.csv\") diagnostics_summary %>%    mutate_if(is.numeric,round,digits=4) %>%   flextable() negBinSel<-read.csv(\"OutputLLSIMBUMM1/Bluemarlincatch/Fit files/Bluemarlincatchscen1ModelSelectionNegBin.csv\") negBinSel %>%   dplyr::select(!offset.log.Effort..)%>%   mutate_if(is.numeric,round,digits=2) %>%   flextable() ResultsNegBin<-read.csv(\"OutputLLSIMBUMM1/Bluemarlincatch/Fit files/Bluemarlincatchscen1NegBinAnnualSummary.csv\") ggplot(ResultsNegBin,aes(x=Year,y=Total,ymin=TotalLCI,ymax=TotalUCI))+   geom_line()+   geom_ribbon(alpha=0.5)"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"presentation-5--cpue-standardization","dir":"Articles","previous_headings":"","what":"Presentation 5. CPUE Standardization","title":"Material from 2025 ICCAT Training Course","text":"Slides CPUE standardization","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"tutorial-5--cpue-standardization-with-bycatchfit","dir":"Articles","previous_headings":"","what":"Tutorial 5. CPUE Standardization with bycatchFit","title":"Material from 2025 ICCAT Training Course","text":"Although BycatchEstimator package originally developed bycatch estimation, can also produce CPUE index abundance. exercise turn bycatch estimation. use LLSIM blue marlin data. following models show : Compare model types. Add random effects Add variables. Model fitting model selection can slow. , purposes demonstration, limit data 15 year period run faster.","code":"# devtools::install_github(\"ebabcock/BycatchEstimator\")  #Make sure library is installed library(BycatchEstimator) library(MuMIn) library(tidyverse) obsdatTest<-filter(LLSIM_BUM_Example_observer,Year %in% 2001:2015) logdatTest<-filter(LLSIM_BUM_Example_logbook,Year %in% 2001:2015)"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"compare-model-types-","dir":"Articles","previous_headings":"Tutorial 5. CPUE Standardization with bycatchFit","what":"1. Compare model types.","title":"Material from 2025 ICCAT Training Course","text":"set model index estimation , argument EstimateBycatch can FALSE bycatchSetup, logbook data included. Note variables included CPUE standardization must included numericVariables factorVariables: bycatchFit, set EstimateIndex argument TRUE. formula indexModel gives variables kept separate index. always include Year. need separate indices fleet area, include . Note best model simpleModel complexModel used generate index, may different variables. Generally, index calculated mean value numerical predictor variables, common level factors. variable, area, included indexModel selected best model according information criteria, areas index: Now, looking html output, total bycatch estimates, abundance indices plotted, plus minus standard error. results also .csv file. can see models similar diagnostics, imply somewhat different trends.","code":"setupObj<-bycatchSetup(   obsdat = obsdatTest,   logdat = NULL, #no logbook data   yearVar = \"Year\",   obsEffort = \"hooks\",   logEffort = \"hooks\",   obsCatch = \"BUM\",   catchUnit = \"number\",   catchType = \"catch\",   logNum = NA,   sampleUnit = \"trips\",   factorVariables = c(\"Year\",\"season\",\"area\",\"fleet\"),   numericVariables = NA,   EstimateBycatch = FALSE, # no bycatch estimation   baseDir = getwd(),   runName = \"LLSIMBUMCPUE1\",   runDescription = \"LLSIm BUM CPUE\",   common = \"Blue marlin\",   sp = \"Makaira nigricans\",   reportType=\"html\" ) bycatchFit(   setupObj,   modelScenario = \"scen1\",   complexModel = formula(y~Year+season+area+fleet+area:season), #upper range of models to compare with information criteria,   simpleModel = formula(y~Year), #lower range of models to compare,   indexModel = formula(y~Year+area), #Variables to include in index   modelTry = c(\"TMBdelta-Lognormal\",\"TMBdelta-Gamma\",\"TMBnbinom2\",\"TMBtweedie\"), #model types to compare   randomEffects = NULL,   randomEffects2 = NULL,   selectCriteria = \"BIC\",   DoCrossValidation = TRUE,   CIval = 0.05,   VarCalc = NULL,  #Index standardaization doesn't use this   EstimateIndex = TRUE, # index estimation   useParallel = TRUE,    nSims = 100,   reportType = \"html\" ) nbinom2Index<-read.csv(\"OutputLLSIMBUMCP/Bluemarlincatch/Fit files/Bluemarlincatchscen1TMBnbinom2Index.csv\") ggplot(nbinom2Index,aes(x=Year,y=Index,ymin=lowerCI ,ymax=upperCI))+   geom_line()+   geom_ribbon(alpha=0.3)+   facet_wrap(area~.)"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"add-random-effects","dir":"Articles","previous_headings":"Tutorial 5. CPUE Standardization with bycatchFit","what":"2. Add random effects","title":"Material from 2025 ICCAT Training Course","text":"CPUE standardization models commonly include random effects, example handle interactions Year variables. also worthwhile include fishing vessel random effect using sets sample unit, deal grouping data. Let’s try Year:area random effect. course, random effects can also used bycatch estimation, less commonly done. random effects included, automatically included models. randomEffects list random effects include model. delta models, randomEffects2 can used give different set randomEffects two model components.","code":"bycatchFit(   setupObj,   modelScenario = \"s2randomeff\",   complexModel = formula(y~Year+season+area+fleet+area:season), #upper range of models to compare with information criteria,   simpleModel = formula(y~Year), #lower range of models to compare,   indexModel = formula(y~Year+area), #Variables to include in index   modelTry = c(\"TMBdelta-Lognormal\",\"TMBdelta-Gamma\",\"TMBnbinom2\",\"TMBtweedie\"), #model types to compare   randomEffects = c(\"Year:area\"),   randomEffects2 = c(\"Year:area\"),   selectCriteria = \"BIC\",   DoCrossValidation = TRUE,   CIval = 0.05,   VarCalc = \"DeltaMethod\",   EstimateIndex = TRUE, # index estimation   useParallel = TRUE,    nSims = 100,   reportType = \"html\" )"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"add-more-variables-","dir":"Articles","previous_headings":"Tutorial 5. CPUE Standardization with bycatchFit","what":"3. Add more variables.","title":"Material from 2025 ICCAT Training Course","text":"CPUE standardization, may desirable add variables, gear variables environmental variables. Numerical variables set mean prediction. add two numerical variables (hbf habBUM) factors (light). case trends differ somewhat, perhaps part IC selected different predictor variables different models.","code":"setupObj<-bycatchSetup(   obsdat = obsdatTest,   logdat = logdatTest, #no logbook data   yearVar = \"Year\",   obsEffort = \"hooks\",   logEffort = \"hooks\",   obsCatch = \"BUM\",   catchUnit = \"number\",   catchType = \"catch\",   logNum = NA,   sampleUnit = \"trips\",   factorVariables = c(\"Year\",\"season\",\"area\",\"light\",\"fleet\"),   numericVariables = c(\"hbf\",\"habBUM\"),   EstimateBycatch = TRUE, # no bycatch estimation   baseDir = getwd(),   runName = \"LLSIMBUMCPUE3\",   runDescription = \"LLSIm BUM CPUE more variables\",   common = \"Blue marlin\",   sp = \"Makaira nigricans\" ) bycatchFit(   setupObj,   modelScenario = \"morevar\",   complexModel = formula(y~Year+season+area+fleet+light+hbf+habBUM), #upper range of models to compare with information criteria,   simpleModel = formula(y~Year), #lower range of models to compare,   indexModel = formula(y~Year+area), #Variables to include in index   modelTry = c(\"TMBdelta-Lognormal\",\"TMBdelta-Gamma\",\"TMBnbinom2\",\"TMBtweedie\"), #model types to compare   randomEffects = NULL,   randomEffects2 = NULL,   selectCriteria = \"BIC\",   DoCrossValidation = TRUE,   CIval = 0.05,   VarCalc = \"DeltaMethod\",   EstimateIndex = TRUE, # index estimation   useParallel = TRUE,    nSims = 100,   reportType = \"html\" )"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"tutorial-6--advanced-and-specialized-model-features-with-bycatchfit","dir":"Articles","previous_headings":"","what":"Tutorial 6. Advanced and specialized model features with bycatchFit","title":"Material from 2025 ICCAT Training Course","text":"tutorial advanced specialized methods: Running one species . Matching trips estimate bycatch unsampled effort . Making year number, polynomial regression year, leaving year model. Validation data. Reading R objects .rds files","code":"# devtools::install_github(\"ebabcock/BycatchEstimator\")  #Make sure library is installed library(BycatchEstimator) library(MuMIn) library(tidyverse) obsdatTest<-filter(LLSIM_BUM_Example_observer,Year %in% 2011:2015) logdatTest<-filter(LLSIM_BUM_Example_logbook,Year %in% 2011:2015)"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"a--running-more-than-one-species-at-once-","dir":"Articles","previous_headings":"Tutorial 6. Advanced and specialized model features with bycatchFit","what":"a. Running more than one species at once.","title":"Material from 2025 ICCAT Training Course","text":"run multiple species catch types (e.g. bycatch vs. catch) , species must column observer data. inputs common, sp, obsCatch, catchType vectors run multiple species catch types. vectors must length. Running multiple species together works want use variables model set species. information criteria cross validation may select different models species. run blue marlin swordfish together. now folders species inside output folder labelled “OutputLLSIMBUMSWO”. Inside folders species find html output data checks. Now copy paste following code console: model runs loop two species, see notification species finishes. might take time. results separate folders species.","code":"setupObj<-bycatchSetup(   obsdat = obsdatTest,   logdat = logdatTest,   yearVar = \"Year\",   obsEffort = \"hooks\",   logEffort = \"hooks\",   obsCatch = c(\"SWO\",\"BUM\"), #Column name vector   catchUnit = \"number\", #Will be replicated if one number is given   catchType = \"catch\", #Will be replicated if one number is given   logNum = NA,   sampleUnit = \"trips\",   factorVariables = c(\"area\",\"fleet\"),   numericVariables = c(\"Year\"),   EstimateBycatch = TRUE,   baseDir = getwd(),   runName = \"LLSIMBUMSWO\",   runDescription = \"LLSIm blue marlin and swordfish\",   common = c(\"Swordfish\",\"Blue marlin\"), #common name vector   sp = c(\"Xiphias gladius\",\"Makaira nigricans\") #scientific name vector ) bycatchFit(   setupObj,   modelScenario = \"multispp\",   modelTry = c(\"TMBdelta-Lognormal\",\"TMBnbinom2\"), #model types to compare   complexModel = formula(y~Year+area+fleet),   simpleModel = formula(y~Year),    selectCriteria = \"BIC\",   DoCrossValidation = TRUE,   CIval = 0.05,   VarCalc = \"none\",   useParallel = TRUE,      nSims = 100 )"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"b--matching-trips-to-estimate-bycatch-for-unsampled-effort","dir":"Articles","previous_headings":"Tutorial 6. Advanced and specialized model features with bycatchFit","what":"b. Matching trips to estimate bycatch for unsampled effort","title":"Material from 2025 ICCAT Training Course","text":"possible match individual trips observer logbook data, observed effort less total effort, can predict unobserved effort. observers include part effort trip, data can include observed unobserved effort. LLSIM data, matching variable trip ID. must now specify, includeObsCatch, matchColumn. code calculate unsampled effort trip logbook effort minus observed effort. must non-zero (.e. logbook effort equal greater observed effort). trips obsdat must match trips logdat. Let’s re-run bycatchSetup one species, run bycatchFit tool produce warning messages observer trips missing logbook data, negative values calculated observed effort. variance estimated total bycatch matching trips now slightly lower. However, observer coverage 5% isn’t much difference.","code":"setupObj<-bycatchSetup(   obsdat = obsdatTest,   logdat = logdatTest,   yearVar = \"Year\",   obsEffort = \"hooks\",   logEffort = \"hooks\",   obsCatch = c(\"SWO\",\"BUM\")[2], #choosing only one species   catchUnit = \"number\",    catchType = \"catch\",    logNum = NA,   sampleUnit = \"trips\",   factorVariables = c(\"area\",\"fleet\"),   numericVariables = c(\"Year\"),   EstimateBycatch = TRUE,   baseDir = getwd(),   runName = \"LLSIMBUM\",   runDescription = \"LLSIMBUM\",   common = c(\"Swordfish\",\"Blue marlin\")[2], #choosing only one species   sp = c(\"Xiphias gladius\",\"Makaira nigricans\")[2] #choosing only one species )   bycatchFit(   setupObj,   modelScenario = \"matchtrips\",   modelTry = c(\"TMBdelta-Lognormal\",\"TMBnbinom2\"),   complexModel = formula(y~Year+area+fleet),   simpleModel = formula(y~Year),    selectCriteria = \"BIC\",   DoCrossValidation = TRUE,   CIval = 0.05,   VarCalc = \"DeltaMethod\",   includeObsCatch = TRUE, #True to include observed catch as a constant   matchColumn = \"trip\", #Must have the same name in obsdat and logdat   useParallel = TRUE,      nSims = 100 )"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"c--making-year-a-number-polynomial-regression-pooling-years-in-the-model","dir":"Articles","previous_headings":"Tutorial 6. Advanced and specialized model features with bycatchFit","what":"c. Making year a number, polynomial regression, pooling years in the model","title":"Material from 2025 ICCAT Training Course","text":"observations year estimate independent year effect, may desirable make year number rather factor. Year listed numericVariables, model y~Year linear regression year. also works put year squared year cubed terms, e.g. y~Year+area+fleet+(Year2)+(Year3), let information criteria select best model. allows fitting trends complex shapes, estimating smaller number parameters. R function () needed calculations inside R formula, squaring, code understands correctly. case, information criteria included squared term. Another method might useful bycatch estimation small sample sizes include year model. estimates still annual, model doesn’t necessarily need include year. following tests two year time block, also allows model estimate null model setting simpleModel=formula(y~1). can see output html file, best model now one year2 variable, estimating single coefficient 2 year block. still different bycatch estimate year, year different total effort, different distribution variables, effort fleet.","code":"# The code automatically converts variables listed in numericVariables to numeric, but you can also do that yourself, with this R code obsdatTest$Year<-as.numeric(as.character(obsdatTest$Year))  logdatTest$Year<-as.numeric(as.character(logdatTest$Year)) #Year must be in numericVariables in setupObj bycatchFit(   setupObj,   modelScenario = \"numYear\",   modelTry = c(\"TMBdelta-Lognormal\",\"TMBnbinom2\"),   complexModel = formula(y~Year+area+fleet+I(Year^2)+I(Year^3)), #Year is still in formula, now with polynomial   simpleModel = formula(y~Year),    selectCriteria = \"BIC\",   DoCrossValidation = TRUE,   CIval = 0.05,   VarCalc = \"DeltaMethod\",   useParallel = TRUE,      nSims = 100 ) Resultsnbinom<-read.csv(\"OutputLLSIMBUM/Bluemarlincatch/Fit files/BluemarlincatchnumYearTMBnbinom2AnnualSummary.csv\") ggplot(Resultsnbinom,aes(x=Year,y=Total,ymin=TotalLCI,ymax=TotalUCI))+   geom_line()+   geom_ribbon(alpha=0.5) #Make new variable for the 2 year time block obsdatTest$Year2<-2*trunc(obsdatTest$Year/2) logdatTest$Year2<-2*trunc(logdatTest$Year/2)  setupObj<-bycatchSetup(   obsdat = obsdatTest,   logdat = logdatTest,   yearVar = \"Year\", #Keep year in the inputs because effort will be expanded by year   obsEffort = \"hooks\",   logEffort = \"hooks\",   obsCatch = c(\"SWO\",\"BUM\")[2], #choosing only one species   catchUnit = \"number\",    catchType = \"catch\",    logNum = NA,   sampleUnit = \"trips\",   factorVariables = c(\"Year\",\"Year2\",\"area\",\"fleet\"), #Two year time blocks now used as a variable. Include Year as a factor although it is not used in the models   numericVariables = NA,   EstimateBycatch = TRUE,   baseDir = getwd(),   runName = \"LLSIMBUM2year\",   runDescription = \"LLSIMBUM 2 year blocks\",   common = c(\"Swordfish\",\"Blue marlin\")[2], #choosing only one species   sp = c(\"Xiphias gladius\",\"Makaira nigricans\")[2] #choosing only one species )  bycatchFit(   setupObj,   modelScenario = \"2year\",   modelTry = c(\"TMBdelta-Lognormal\",\"TMBnbinom2\"),   complexModel = formula(y~Year2+area+fleet), #Year is not in the formula   simpleModel = formula(y~1), #Even Year2 not needed in formula    selectCriteria = \"BIC\",   DoCrossValidation = TRUE,   CIval = 0.05,   VarCalc = \"DeltaMethod\",   useParallel = TRUE,      nSims = 100 )"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"d--validation-data-","dir":"Articles","previous_headings":"Tutorial 6. Advanced and specialized model features with bycatchFit","what":"d. Validation data.","title":"Material from 2025 ICCAT Training Course","text":"simulated data can compare estimated total bycatch true total bycatch, . real data, can use tool predict total landed catch test methodology. validation data must dataframe, input bycatchFit using settings bycatchFit: Validation data points now plotted points figure 1 html output.","code":"trueVals<-read.csv(\"TotalAnnualCatches.csv\") #read in validation data trueVals<-filter(trueVals,Year %in% 2011:2015) #filter for years 2011 - 2015  setupObj<-bycatchSetup(   obsdat = obsdatTest,   logdat = logdatTest,   yearVar = \"Year\",   obsEffort = \"hooks\",   logEffort = \"hooks\",   obsCatch = c(\"BUM\",\"SWO\")[1],   catchUnit = \"number\",    catchType = \"catch\",     sampleUnit = \"trips\",   logNum =  NA,   factorVariables = c(\"Year\",\"fleet\",\"area\"),   numericVariables =  NULL,   runName = \"LLSIMBUMVal\",   runDescription = \"LLSIm BUM Validate\",   common = c(\"Blue marlin\",\"Swordfish\")[1],    sp = c(\"Makaira nigricans\",\"Xiphias gladius\")[1] ,  )  bycatchFit(   setupObj,   modelScenario = \"val\",   complexModel = formula(y~Year+area+fleet),    simpleModel = formula(y~Year),   modelTry = c(\"TMBdelta-Lognormal\",\"TMBnbinom2\"),   selectCriteria = \"BIC\",   DoCrossValidation = TRUE,   CIval = 0.05,   VarCalc = \"DeltaMethod\",   useParallel = TRUE,     nSims = 100,   plotValidation = TRUE,  #Make this true to include validation data in the plot   trueVals = trueVals,  #Include the name of the data frame with the validation data (annual only)   trueCols = c(\"Total.BUM\",\"Total.SWO\")[1],  #Names of columns in trueVals. )"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"e--reading-in-the-r-objects-in-the--rds-files","dir":"Articles","previous_headings":"Tutorial 6. Advanced and specialized model features with bycatchFit","what":"e. Reading in the R objects in the .rds files","title":"Material from 2025 ICCAT Training Course","text":".rds files output bycatchSetup, bycatchDesign bycatchFit can read R directly using readRDS function. also helper function BycatchEstimator package called loadInputs, lets read .rds files extract information R environment. function takes inputs, baseDir, runName, runDate (defaults current date), character vectors listing scenarios want read , designScenarios modelScenarios. Set NULL read scenarios. function returns list setupObj specified run, list called designObjList contains design-based model inputs outputs designScenario, modelObjList, models modelScenarios, data frame called allYearEstimates annual estimates across design-based model-based scenarios format suitable ggplot demonstrate, first run bycatchDesign get design results, use loadInputs get results plot design-based model-based bycatch estimates together. based example code user’s guide.","code":"#Run some design-based estimates bycatchDesign(   setupObj = setupObj,   designScenario=\"noPool\",   designMethods = c(\"Ratio\",\"Delta\"),   designVars = \"Year\",   groupVar = \"Year\",   designPooling = FALSE,   poolTypes = NULL,   pooledVar = NULL,   adjacentNum = NULL,   minStrataUnit = 1,   reportType = \"html\" ) #Load in both design and model based estimates outputObj<-loadOutputs(baseDir = getwd(),                       runName= \"LLSIMBUMVal\",                       runDate =  Sys.Date(),                       designScenarios = \"noPool\",                       modelScenarios = \"val\" ) #Plot all together ggplot(outputObj$allYearEstimates,aes(x=Year,y=Total,                                        ymin=TotalLCI,ymax=TotalUCI,                       fill=Source,color=Source))+   geom_line()+   geom_ribbon(alpha=0.4)+   theme_bw()"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/Course2025.html","id":"appendix-1--converting-between-long-and-wide-format-data","dir":"Articles","previous_headings":"","what":"Appendix 1. Converting between long and wide format data","title":"Material from 2025 ICCAT Training Course","text":"tutorial converting wide several kinds long format R tidyverse. topics covered converting wide long, aggregating counting summing rows, combining multiple datasets left_join. may need , , methods depending format data, case useful. use example dataset simulated longline fishery BycatchEstimator package. first chunk opens tidyverse BycatchEstimator libraries makes simplified version logbookd ata purposes tutorial. functions converting wide long format called pivot_wider pivot_longer. linear models, including BycatchEstimator, data wide format, meaning one row per sample unit (e.g. set trip). ggplot function prefers long format, often need convert long wide. first code chunk converts LLSIM observer data long format wide format. original wide format data columns called “SWO”, “BUM” include catch swordfish blue marlin, respectively. pivot_longer function make new column called “Species” hold values “SWO” “BUM”, names columns “pivoted”. values columns go column named “Catch”. See help file pivot_longer syntax. Note names new columns character string (.e. quotes) defined dataframe. new dataset longer trip now two rows, one species. columns replicated. now right format making ggplot, example:  kind long format quite common input data observer programs, scientific surveys, etc. exactly one row per species per set, can pivot long wide using pivot_wider. input names_from column containing categorical variables used give names new columns, values_from values new columns (note: quotes existing columns). input values_fill optionally specifies , row species set, zero filled . works exactly one row per species sample unit. case might one catch record per species sample unit, may need add using group_by() %>% summarize().group_by %>% summarize syntax removes variables mentioned explicitly group_by summarize, need mention keep . Finally, use ungroup remove grouping grouping can cause problems later using dataframe purposes. aggregated data can used pivot_wider function. dataset doesn’t need step, code case need . made change example data, data already aggregrated. Another common data format, example data include fish lengths, separate row individual fish. next chunk uses uncount function make dataset one row per fish, can see aggregate format need. now long dataset one row per individual fish Catch column. example, 2 swordfish caught trip 101.2001.11.1.30.-70 now row 2 3, “SWO” Species column. get back wide format running linear models, can group data trip species, using group_by, count number rows (number fish) using n() function summarize function. dataset now Catch column counts swordfish blue marlin can now pivot wider get correct format linear models. data frame now wide format, values_fill put zeros catch species found trip. However, still problem. don’t many rows table original obsdat. look, can see missing rows catches either swordfish blue marlin. following code filters obsdat trip numbers obsdatRegroupWide looks first rows. rows original data indicating zero catches needed linear models estimate abundance trends bycatch rates. However, calculated long format dataset rows zero observations. Often datasets observer programs surveys one table containing observations sample unit (e.g. set, trip, transect), including, time, date, location, etc., separate table information individual animals observed. data might formatted like : case information trip table called trip, information individual animals animalTable. get count animals species, including zeros, two steps. Use group_by %>% summarize count animals non-zero trips animals table Use left_join add counts onto full trip table, filling zeros trips animals caught. Step 1 analysis make obsdatRegroupWide, except case, don’t want include variables trip catch species. can ignore variables like animal length weight, don’t want duplicate variables already tripTable (except used matching rows, shown ). see dimensions 98 trips missing. , now add catch tripTable using left_join. Left join use trip variable (=trip) present datasets match rows. keep rows tripTable (left table left_join). see 98 MA values BUM SWO, trips now match. just need replace zeros, trips caught swordfish blue marlin. now correct zero catches table. can confirm process recreated exact data original obsdat, follows:","code":"library(tidyverse) obsdat<-LLSIM_BUM_Example_observer%>%   select(trip,Year,fleet,hooks,sets,season,area,SWO,BUM) %>%   filter(Year>1999) ?pivot_longer obsdatLong<-pivot_longer(obsdat,                          cols=c(SWO,BUM),                          names_to=\"Species\",                          values_to=\"Catch\") dim(obsdat) ## [1] 2147    9 dim(obsdatLong) ## [1] 4294    9 head(obsdatLong) ## # A tibble: 6 × 9 ##   trip                  Year fleet hooks  sets season area  Species Catch ##   <chr>                <dbl> <dbl> <dbl> <dbl>  <dbl> <chr> <chr>   <dbl> ## 1 101.2000.6.1.25.-80   2000     1  5.10     6      2 N     SWO         0 ## 2 101.2000.6.1.25.-80   2000     1  5.10     6      2 N     BUM         0 ## 3 101.2001.10.1.25.-80  2001     1  0.8      1      4 N     SWO         0 ## 4 101.2001.10.1.25.-80  2001     1  0.8      1      4 N     BUM         1 ## 5 101.2001.11.1.30.-70  2001     1  0.4      1      4 N     SWO         2 ## 6 101.2001.11.1.30.-70  2001     1  0.4      1      4 N     BUM         0 ggplot(obsdatLong,aes(x=Year,y=Catch,fill=Species))+   geom_col()+   ggtitle(\"Total catch of swordfish and blue marlin\") ?pivot_wider obsdatWide<-obsdatLong %>% pivot_wider(names_from=Species,                                        values_from=Catch,                                        values_fill=0) obsdatLongAgg<-obsdatLong %>% group_by(trip,Year,fleet,hooks,sets,Species) %>%   summarize(Catch=sum(Catch))%>%   ungroup() dim(obsdatLongAgg) ## [1] 4294    7 dim(obsdatLong) ## [1] 4294    9 obsdatUncount<-obsdatLong %>%   uncount(Catch) dim(obsdatUncount) ## [1] 90882     8 head(obsdatUncount) ## # A tibble: 6 × 8 ##   trip                  Year fleet hooks  sets season area  Species ##   <chr>                <dbl> <dbl> <dbl> <dbl>  <dbl> <chr> <chr>   ## 1 101.2001.10.1.25.-80  2001     1  0.8      1      4 N     BUM     ## 2 101.2001.11.1.30.-70  2001     1  0.4      1      4 N     SWO     ## 3 101.2001.11.1.30.-70  2001     1  0.4      1      4 N     SWO     ## 4 101.2002.11.1.25.-70  2002     1  4.19    14      4 N     SWO     ## 5 101.2002.11.1.25.-70  2002     1  4.19    14      4 N     SWO     ## 6 101.2002.11.1.25.-70  2002     1  4.19    14      4 N     SWO obsdatRegroup<-obsdatUncount %>% group_by(trip,Year,fleet,hooks,sets,Species) %>%   summarize(Catch=n())%>%   ungroup() head(obsdatRegroup) ## # A tibble: 6 × 7 ##   trip                  Year fleet hooks  sets Species Catch ##   <chr>                <dbl> <dbl> <dbl> <dbl> <chr>   <int> ## 1 101.2001.10.1.25.-80  2001     1  0.8      1 BUM         1 ## 2 101.2001.11.1.30.-70  2001     1  0.4      1 SWO         2 ## 3 101.2002.11.1.25.-70  2002     1  4.19    14 SWO        22 ## 4 101.2002.5.1.25.-85   2002     1  1.6      2 SWO        11 ## 5 101.2003.4.1.25.-85   2003     1  2.65     3 SWO         5 ## 6 101.2006.6.1.25.-85   2006     1  3.22     4 BUM         1 obsdatRegroupWide<-obsdatRegroup %>% pivot_wider(names_from = Species,                                                  values_from = Catch,                                                  values_fill = 0) head(obsdatRegroupWide) ## # A tibble: 6 × 7 ##   trip                  Year fleet hooks  sets   BUM   SWO ##   <chr>                <dbl> <dbl> <dbl> <dbl> <int> <int> ## 1 101.2001.10.1.25.-80  2001     1  0.8      1     1     0 ## 2 101.2001.11.1.30.-70  2001     1  0.4      1     0     2 ## 3 101.2002.11.1.25.-70  2002     1  4.19    14     0    22 ## 4 101.2002.5.1.25.-85   2002     1  1.6      2     0    11 ## 5 101.2003.4.1.25.-85   2003     1  2.65     3     0     5 ## 6 101.2006.6.1.25.-85   2006     1  3.22     4     1    22 dim(obsdatRegroupWide) ## [1] 2049    7 dim(obsdat) ## [1] 2147    9 head(filter(obsdat,!trip %in% obsdatRegroupWide$trip)) ## # A tibble: 6 × 9 ##   trip                  Year fleet hooks  sets season area    SWO   BUM ##   <chr>                <dbl> <dbl> <dbl> <dbl>  <dbl> <chr> <dbl> <dbl> ## 1 101.2000.6.1.25.-80   2000     1 5.10      6      2 N         0     0 ## 2 101.2001.7.1.35.-65   2001     1 0.3       1      3 N         0     0 ## 3 101.2012.8.1.25.-85   2012     1 0.8       1      3 N         0     0 ## 4 103.2004.11.1.25.-75  2004     1 0.402     1      4 N         0     0 ## 5 106.2005.10.1.30.-75  2005     1 0.552     1      4 N         0     0 ## 6 106.2008.2.1.25.-85   2008     1 1.8       2      1 N         0     0 tripTable<-select(obsdat,trip,sets,hooks,sets,season,area) head(tripTable) ## # A tibble: 6 × 5 ##   trip                  sets hooks season area  ##   <chr>                <dbl> <dbl>  <dbl> <chr> ## 1 101.2000.6.1.25.-80      6  5.10      2 N     ## 2 101.2001.10.1.25.-80     1  0.8       4 N     ## 3 101.2001.11.1.30.-70     1  0.4       4 N     ## 4 101.2001.7.1.35.-65      1  0.3       3 N     ## 5 101.2002.11.1.25.-70    14  4.19      4 N     ## 6 101.2002.5.1.25.-85      2  1.6       2 N animalTable<-select(obsdatUncount,trip,Species)%>%   mutate(length=NA,          weight=NA) head(animalTable) ## # A tibble: 6 × 4 ##   trip                 Species length weight ##   <chr>                <chr>   <lgl>  <lgl>  ## 1 101.2001.10.1.25.-80 BUM     NA     NA     ## 2 101.2001.11.1.30.-70 SWO     NA     NA     ## 3 101.2001.11.1.30.-70 SWO     NA     NA     ## 4 101.2002.11.1.25.-70 SWO     NA     NA     ## 5 101.2002.11.1.25.-70 SWO     NA     NA     ## 6 101.2002.11.1.25.-70 SWO     NA     NA animalCatch<-animalTable %>% group_by(trip,Species) %>%   summarize(Catch=n())%>%   ungroup() animalCatchWide <-animalCatch %>%pivot_wider(names_from = Species,                                              values_from = Catch,                                              values_fill = 0) dim(animalCatchWide) ## [1] 2049    3 dim(tripTable) ## [1] 2147    5 ?left_join finalTable<-left_join(tripTable,animalCatchWide,by=\"trip\") summary(finalTable) ##      trip                sets           hooks            season      ##  Length:2147        Min.   : 1.00   Min.   :  0.01   Min.   :1.000   ##  Class :character   1st Qu.: 4.00   1st Qu.:  4.00   1st Qu.:1.000   ##  Mode  :character   Median :15.00   Median : 22.08   Median :2.000   ##                     Mean   :15.79   Mean   : 32.45   Mean   :2.465   ##                     3rd Qu.:20.00   3rd Qu.: 51.20   3rd Qu.:4.000   ##                     Max.   :99.00   Max.   :258.98   Max.   :4.000   ##                                                                      ##      area                BUM               SWO          ##  Length:2147        Min.   :  0.000   Min.   :   0.00   ##  Class :character   1st Qu.:  0.000   1st Qu.:   7.00   ##  Mode  :character   Median :  1.000   Median :  20.00   ##                     Mean   :  3.413   Mean   :  40.94   ##                     3rd Qu.:  3.000   3rd Qu.:  40.00   ##                     Max.   :108.000   Max.   :1256.00   ##                     NA's   :98        NA's   :98 finalTable<-finalTable %>%   mutate(across(BUM:SWO,~replace_na(.x,0))) summary(finalTable) ##      trip                sets           hooks            season      ##  Length:2147        Min.   : 1.00   Min.   :  0.01   Min.   :1.000   ##  Class :character   1st Qu.: 4.00   1st Qu.:  4.00   1st Qu.:1.000   ##  Mode  :character   Median :15.00   Median : 22.08   Median :2.000   ##                     Mean   :15.79   Mean   : 32.45   Mean   :2.465   ##                     3rd Qu.:20.00   3rd Qu.: 51.20   3rd Qu.:4.000   ##                     Max.   :99.00   Max.   :258.98   Max.   :4.000   ##      area                BUM               SWO          ##  Length:2147        Min.   :  0.000   Min.   :   0.00   ##  Class :character   1st Qu.:  0.000   1st Qu.:   6.00   ##  Mode  :character   Median :  1.000   Median :  18.00   ##                     Mean   :  3.258   Mean   :  39.07   ##                     3rd Qu.:  3.000   3rd Qu.:  39.00   ##                     Max.   :108.000   Max.   :1256.00 table(obsdat$BUM==finalTable$BUM) ##  ## TRUE  ## 2147 table(obsdat$SWO==finalTable$SWO) ##  ## TRUE  ## 2147"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/InstallationGuide.html","id":"before-you-install-bycatchestimator","dir":"Articles","previous_headings":"","what":"Before you install BycatchEstimator","title":"Installing BycatchEstimator","text":"BycatchEstimator package prints output figures either html pdf files. select pdf output, must LaTeX package installed computer. don’t , can install TinyTex (https://yihui.org/tinytex/), works takes less disk space LaTeX options. Try test code TinyTex installation guide make sure can print pdf trying install BycatchEstimator. BycatchEstimator requires recent versions R libraries uses. older version R, update R libraries current version try install BycatchEstimator. RStudio need authority make changes computer can install new libraries. may need run RStudio administrator privileges, /give permission installation files make changes computer. can’t install computer, bycatchEstimator works fine RStudio cloud (https://rstudio.cloud).","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/InstallationGuide.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Installing BycatchEstimator","text":"install BycatchEstimator GitHub, must devtools package installed. can install development version BycatchEstimator GitHub. install current version, use : install version 2024, use . current version recommended new features: install BycatchEstimator, install /update many files. Try install . asks whether want install packages require compilation, try saying yes, doesn’t work try saying . package installations updates fail, can try install packages one time. Don’t worry get message saying packages date.","code":"# install.packages(\"devtools\") devtools::install_github(\"ebabcock/BycatchEstimator\") # install.packages(\"devtools\") devtools::install_github(\"ebabcock/BycatchEstimator@v0.0.9\")"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/InstallationGuide.html","id":"getting-started","dir":"Articles","previous_headings":"","what":"Getting started","title":"Installing BycatchEstimator","text":"Due complication coding, user must load library(MuMIn) addition library(BycatchEstimator). point, try looking help files BycatchEstimator functions make sure library loaded. now able run functions. Try running example data https://github.com/ebabcock/BycatchEstimator make sure works. information see User’s Guide https://ebabcock.github.io/BycatchEstimator/articles/UserGuide2.html. Contact ebabcock@miami.edu help can’t get work.","code":"library(BycatchEstimator) library(MuMIn) ?bycatchSetup ?bycatchDesign ?bycatchFit"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/UserGuide2.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"BycatchEstimator User Guide","text":"BycatchEstimator tool estimates total bycatch, calculated expanding sample, observer data set, total effort logbooks landings records. bycatch estimates made either generic model-based bycatch estimation procedure, common design-based bycatch estimation methods (e.g. stratified ratio estimator). bycatch estimation methods essentially estimate total bycatch sum strata (, e.g. years, areas, seasons), bycatch rate r estimated sample fishery (e.g. observer data), times total effort E estimated fish landings records logbook data: B=∑iriEiB=\\sum_{}r_i E_i Design-based methods calculate bycatch rate directly observer data formula (See ), model-based estimators use generalized linear model (GLM) estimate predicted bycatch rate r̂\\hat{r} use expansion. Models can allow variables included, , example, information habitat bycatch species, may improve precision bycatch estimates. However, model-based design-based estimators often produce similar estimates, simpler design-based estimates sufficient many cases. workflow using BycatchEstimator : Install code test everything works properly running example. Run bycatchSetup function produce data summaries plots, make sure data appropriate bycatch estimation. Run either bycatchDesign design-based estimators, bycatchFit model-based estimators, . Use output figures tables directly, desired, use loadOutputs function input model runs back R advanced analysis. Validate results possible. user guide provides detailed information use tool, general guidance bycatch estimation.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/UserGuide2.html","id":"installing-the-code","dir":"Articles","previous_headings":"","what":"Installing the code","title":"BycatchEstimator User Guide","text":"code runs best RStudio. running code first time, install latest versions R (R Core Team (2020)) RStudio (RStudio Team (2020)). following libraries used: tidyverse, ggplot2, MASS, lme4, cplm, tweedie, DHARMa, tidyselect, MuMIn, gridExtra, pdftools (pdf output selected), foreach, doParallel, reshape2, glmmTMB, GGally quantreg (Wickham et al. (2019); Wickham (2016); Venables Ripley (2002); Bates et al. (2015); Zhang (2013); Dunn Smyth (2005); Hartig (2020); Henry Wickham (2020); Barton (2020); Auguie (2017); Wickham Pedersen (2019); Iannone, Cheng, Schloerke (2020); Ooms (2020);Microsoft Weston (2020);Corporation Weston (2020); Wickham (2007); Brooks et al. (2017);Schloerke et al. (2024); Koenker (2021)). output figures tables printed user’s choice html pdf file using RMarkdown knitr library(Xie (2025)). use pdf outputs, must LaTex program installed, TinyTex (Xie (2019), Xie (2021), Xie (2025)). quick start guide example data, see GitHub page (https://github.com/ebabcock/BycatchEstimator). help installation issues, see Installation Guide https://ebabcock.github.io/BycatchEstimator/articles/InstallationGuide.html. following code load libary GitHub using devtools (Wickham et al. (2022)).","code":"# install.packages(\"devtools\") #devtools::install_github(\"ebabcock/BycatchEstimator\") library(BycatchEstimator) library(MuMIn)"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/UserGuide2.html","id":"data-specification","dir":"Articles","previous_headings":"","what":"Data specification","title":"BycatchEstimator User Guide","text":"function bycatchSetup sets data analysis provides data checks, summaries warnings. function takes input sample fishery, hereafter referred observer data although come source, data set total effort, hereafter referred logbook data, although source long records fishing effort fishery. function must run running either bycatchDesign bycatchFit. observer data aggregated appropriate sample unit, trips sets, row corresponds one sample unit. Effort must units data sets (e.g. sets hook-hours). logbook data may aggregated sample units, may aggregated , long includes data stratification predictor variables. example, logbook data can aggregated year, region season stratification variables, row can one sample unit. logbook data aggregated, must column, name specified logNum, giving number sample units per row logbook data (logNum=NA means rows logbook data one sample unit). information number sample units needed variance calculations. environmental variables, depth, included, observed logbook data probably entered set level. observer data columns year predictor (models) stratification (design-based) variables, observed effort observed bycatch catch per trip species estimated. logbook data must also columns Year predictor variables, total effort units (e.g. sets hook-hours) observer data. NA values variables, rows deleted observer data set. NA values logbook dataset cause function stop error message. NA values logbook data, dataset complete accounting effort. variables intend use analysis entered character vectors named factorVariables numericVariables. Note design-based methods work categorical variables. Year interpreted factor design-based methods whether numerical factor. model-based methods, Year may either number factor. Note input “yearVar” name year variable datasets. However, variable renamed Year (capital Y) code. Year predictor variable analysis, must still input value yearVar dataSetup, don’t use analysis functions. Year spelled “Year” numericVariables, factorVariables, model inputs. code can used analyze multiple species, disposition types (e.g. retained catch, dead discards, live releases) time. specified inputting vector rather single value scientific name, common name, units estimates, name column containing catch data (obsCatch).inputs can single value analyzing one species catch type. function outputs user’s choice html pdf file, , named shortened version species name, catch type “data checks”, directories named “output” followed specified run name. csv file species placed directory named species, sub-directory “Setup Files”. multiple species catch types, summary file. warning messages NA values data 0 values observer effort data, levels factor variable logbook data present observer data. html pdf data check file include warnings, table combinations factors present logdat obsdat () following tables plots. tables : Observer coverage levels sample units (rows observer data) effort (sum Effort columns). summary table Year number observed total effort units, number positive observations species, number outliers (defined CPUE data points 8 standard deviations mean), simple unstratified ratio estimator estimate catch (See Appendix details). Figures comparing logbook observer effort : Barplots histograms sum total effort whole fishery observed sample across levels categorical numerical variable. Pairs plots showing overlap observer total (logbook) effort across pairs categorical numeric variables. (Categorical variables 15 levels converted numerical plot). Figures showing catch observer data : Barplots presence absence bycatch species year level categorical numeric variables. Barplots total catch bycatch species year level categorical numeric variables. Violin plots scatterplots catch per sample unit, across categorical numeric variables. Violin plots scatterplots catch per unit effort (CPUE), across categorical numerical variables. Note records NA variables observer data, including catch effort variable, excluded analysis included estimated sample size tables figures. many NAs sample size low, may want exclude variable analysis impute missing values. looking tables plots, check observer data spans roughly values variables observer data. Design-based estimators assume catch zero strata (.e. combinations predictor variables) observer data, unless set pooling options described . Model-based estimation methods work best non-zero catches across levels factor variable. Numeric variables can introduce bias observed data include full range values whole fishery. Also, look non-linear trends relationship CPUE numerical variable. numeric variable treated simple linear regression models. relationship looks non-linear, may want consider polynomial regression (see ). Also, check instances high CPUE. may happen catch occurs set/trip low recorded effort, outliers may bias results. general, model-based methods sensitive outliers, often errors data cleaned . zeroes values Effort observer data (possible), corrected model-based analysis. NA values logbook data cause code stop error message. Values effort predictor variables needed entire fishery total bycatch estimated correctly. total effort (logbook) data missing values variables component fishery (e.g. gear type years), consider excluding part fishery bycatch calculations, reporting bycatch part fishery complete effort data. missing values scattered throughout dataset, consider filling missing values reasonable numbers. example, sets missing data effort number hook-hours, replace NAs mean effort (e.g. mean number hook-hours per set unit effort). Imputing missing values preferable excluding effort fishery, deleting missing records implies sample units bycatch. Similarly, value categorical variable like gear type missing, NAs filled common gear type, random choice gear type. imputation methods cause bias number imputed values fairly small.","code":"setupObj<-bycatchSetup(   obsdat = obsdatExample,   logdat = logdatExample,   yearVar = \"Year\",   obsEffort = \"sampled.sets\",   logEffort = \"sets\",   obsCatch = \"Catch\",   catchUnit = \"number\",   catchType = \"catch\",   logNum = NA,   sampleUnit = \"trips\",   factorVariables = c(\"Year\",\"EW\",\"season\"),   numericVariables = NA,   EstimateBycatch = TRUE,   baseDir = getwd(),   runName = \"Simulated\",   runDescription = \"Simulated example species\",   common = \"Simulated species\",   sp = \"Genus species\",   reportType = \"html\" )"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/UserGuide2.html","id":"design-based-estimators","dir":"Articles","previous_headings":"","what":"Design-based estimators","title":"BycatchEstimator User Guide","text":"section provides guidance function bycatchDesign using design-based estimators. function takes output bycatchSetup (e.g. setupObj) input, must run day, along specifications design-based estimators. may run multiple scenarios (e.g. different pooling specifications) setupObj, specifying scenario name (designScenario), included output file names. design-based methods available stratified ratio estimator Rao (2000) design based delta-lognormal estimator Pennington (1983). use design-based estimators, specify character vector. example, designMethods =c(“Ratio”,“Delta”) calculate estimates. total bycatch estimates made stratification variables defined user vector called designVars, must categorical variables. Annual summaries produced summing across strata within years. want produce output plots across variable Year (e.g. 2-year periods), specify name variable groupVar. deal strata observations observations, user may request pooling (designPooling=TRUE), specify minimum number sample units needed avoid pooling. pooling, total bycatch estimated observer logbook data specified pooling scheme stratum (.e. combination variables) allocated stratum according fraction logbook effort pooled data stratum interest. Unpooled estimates used strata sufficient data. Variances also allocated stratum interest based fraction total effort. See Brown (2001) details one potential pooling scheme. pooling requested, strata pooled order designVars. Three additional vectors needed define pooling works: poolTypes, says whether variable pooled across “adjacent” levels (Year ), “” values, new variable “pooledVar” (e.g. season rather month) “none” levels variable always kept separate; pooledVar specifies new variable pooling pooledVar pooling method; adjacentNum specifies number adjacent years include adjacent year method (e.g. 1 include previous following year). vectors must length designVars. must also specify minimum number sample units stratum require pooling. function produces user’s choice pdf html file bycatch estimates species catch type, labelled designScenario species name plus “design results”. file includes table total estimates year method, along standard errors, figure showing estimates year 95% confidence intervals. pooling requested, barplot showing number strata pooled Year variable designVars, also indicating number strata acheived specified minimum number sample units. outputs also given .csv files folder labeled “Design outputs”. estimates columns called ratioMean, ratioSE, deltaMean deltaSE file labelled DesignSummary (year) file labelled DesignStrata (stata). pooling requested, csv labelled “pooling” gives number sample units strata without pooling, etc. See details outputs Appendix. general, combinations stratification variables (designVars) exist observer data exist logbook data, consider least pooling. Without pooling, model assume bycatch unsampled strata, , many stratification variables, total bycatch -estimated substantially. can experiment different pooling schemes see give different results, giving different designScenario names. Note leaving variable list designVars equivalent always pooling levels variable. observer program allocates observer sampling effort stratified random design, observer coverage level varies strata, usually necessary include stratification variables design. example, observers allocated roughly equal numbers sets covered stratum defined gear, year, area season, strata fishing effort lower observer coverage rates. case, stratification variables included design-based estimators, pooling can used needed. hand, observers allocated randomly across whole fishery (simple random design) need include stratification variables, average bycatch rate across sampled part fo fishery representative. including multiple stratification variables necessary, sample sizes small enough require pooling, pooling strategy developed pool across strata similar bycatch rates. CPUE plots level variable Data Checks useful . example, seasons different, years similar within seasons, makes sense use adjacent year pooling. Similarly, areas similar can pooled. example, 10 fishing areas, group 2 fishing zones (e.g. zone 1 areas 1-5, zone 2 areas 6-10), use pooledVar feature pool within zones needed. Something like following pool adjacent years areas within zones: minimum number sample units needed avoid pooling can also adjusted. general, pooling require enough sample units estimated bycatch rates generally zero pool. example, species caught one set 10, minimum sample unit 10 might work. hand, pooling effect smoothing differences strata, may desirable purpose study compare strata. Experiment different levels pooling see pooling makes difference estimates, using different designScenario name version. course, increasing observer coverage level pooling needed provide best bycatch estimates.","code":"bycatchDesign( setupObj = setupObj, designScenario = \"withPooling\", designMethods = c(\"Ratio\", \"Delta\"), groupVar = \"Year\", designVars = c(\"Year\",\"season\",\"EW\"), designPooling = TRUE, poolTypes=c(\"adjacent\",\"all\",\"none\"), pooledVar=c(NA,NA,NA), adjacentNum=c(1,NA,NA), minStrataUnit = 1 ) designVars = c(\"Year\",\"area\") designPooling = TRUE poolTypes=c(\"adjacent\",\"pooledVar\") pooledVar=c(NA,zone) adjacentNum=c(1,NA)"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/UserGuide2.html","id":"model-specification","dir":"Articles","previous_headings":"","what":"Model specification","title":"BycatchEstimator User Guide","text":"Model-based analysis estimate total bycatch /generate abundance index done function bycatchFit user specifies potential predictor variables use potential error distribution models (e.g. negative binomial, delta-lognormal) use. function uses information criteria pick best set predictor variables error distribution model automatically using information criterion. best model group, total bycatch estimates model diagnostics generated. provide guidance choosing observation error model groups, cross-validation available. section explains run model interpret results. following section gives technical details guidance model selection. use function, specify input data object generated bycatchSetup. may run one scenario setupObj, specifying “modelScenario”. character vector “modelTry” indicates potential observation error distributions try functions use fitting. Options : “Tweedie” cplm library,“Lognormal”,“Delta-Lognormal”,“Delta-Gamma”,“Normal”,“Binomial”,“Poisson” “Gamma” ordinary glm lm functions, “NegBin” MASS library’s glm.nb function, “TMBnbinom1”,“TMBlognormal”, “TMBnbinom2”,“TMBtweedie”, “TMBgamma”, “TMBbinomial”, “TMBnormal”, “TMBpoisson”, “TMBdelta-Lognormal” “TMBdelta-Gamma” glmmTMB). binomial model tried requested, either delta-lognormal delta-Gamma model requested, since delta models binomial component. Note model outputs funtional form (e.g. Tweedie) whether using glmmTMB functions. negative binomial 2 TMB negative binomial glm.nb. get faster results, use glmmTMB model fitting. Give formulas complex simplest set predictor variables considered within model group. format R formulas (e.g. formula(y~Year)), y left-hand side formula. year variable must called Year (capital Y), whatever called actual data (entered yearVar). simplest model requires stratification variables Year, summaries predicted bycatch level stratification variables printed .csv files, plotted. user-specified simplest model often include Year, can also include, example, stratification variables used observer program sampling design. Year simplest model (e.g. simplest model null model y~1), model still produces bycatch estimates year, can vary one year next effort changes. abundance index requested, calculated including variables requested indexVars, allow different indices different stratification variables desired (e.g. different spatial areas). variables used model must included either numericVariables factorVariables bycatchSetup, retain classification. variables simplest complex model interpreted fixed effects. desired random effects can entered character vector (e.g. randomEffects=“Year:area”). case delta models used, can separate random effects binomial model (randomEffects) abundance present model (randomEffects2). random effects, fitting done glmmTMB. Random effects, , included models model selection. may useful including trip effect set--set analysis, example, including Year:area interaction random effect calculating indices. Specify information criterion use narrowing predictor variables use observation error model group; use default BIC. Model selection done dredge function MuMIn library(Barton (2020)) based user’s choice information criteria (AICc, AIC BIC) considering models simplest complex. model lowest value information criterion chosen best within observation error group. Specify whether cross validation choose observation error models. best candidate models observation error group compared using 10-fold cross validation, see observation error model best predicts CPUE. Note information criteria used directly compare, example, delta-lognormal negative binomial Tweedie, observation error models different y data. However, models can used predict CPUE directly, predictions can compared cross validation. best model according cross validation one lowest root mean square error (RMSE) predicted CPUE mean error () closest zero, excluding consideration models fit well according criteria described . Note model selection using information criteria cross validation intended guide. user also look information criteria across multiple models, well residuals diagnostics, may want choose different model bycatch estimation abundance index calculation based criteria, design observer sampling program. Also, code one draw 10-fold cross-validation, , small sample sizes, different model runs may give different cross-validation results. best model observation error model group, total bycatch estimated predicting catch logbook trips (.e., whole fishery) fitted model summing across trips. includeObsCatch FALSE (default), bycatch predicted across logbook data, option, using includeObsCatch=TRUE, predict bycatch unobserved effort (.e. trips sets sampled observers, sampled trips sets, effort sampled observer) calculate total bycatch observed bycatch plus predicted bycatch unobserved effort. works possible match observed trips sets logbook trips sets, amount observed effort sample unit always less equal amount total effort. fisheries high observer coverage (e.g. 20% ), predicting bycatch unobserved effort preferred, treating whole fishery unobserved might overestimate variance. use option, must column name obsdat logdat (matchColumn), trip number set number, can match observations obsdat logdat. observer sampled part effort (e.g. sampled sets trip), bycatch predicted logdat effort minus obsdat effort observed sample unit. includeObsCatch TRUE, bycatchFit give warnings , example, sample units observer data found logbook data, observed effort logbook total effort sample units. option works simulated example data, can difficult set real data, requires lot data cleaning, make observer logbook data consistent. function may slow (hour) large data set. variable useParallel TRUE computer multiple cores, dredge function run parallel. greatly speeds calculations. trouble getting work, set useParallel FALSE. Finally, information total bycatch year validate estimates, example simulation study, fill arguments plotValidation, trueVals, trueCols. Otherwise, leave arguments , set themto FALSE, NULL NULL, respectively. include validation data, trueVals set equal character string containing filename (complete path) file containing column labelled “Year”, columns total bycatch year, names specified trueCols. multiple species, trueCols can vector giving names column species order. function runs, summary model results file (html pdf), named species name model scenario (e.g. BlmarlnCATs1Modelresults.html) printed folder labelled species common name. file begins text describing model inputs basic information models fit successfully. diagnostics model details explained fully . models together, file includes: model comparison table, showing best model according information criteria, along column cause model failure, . cross-validation requested mean values RMSE included. results tests whether residuals consistent model. Parameters fitted models, including scale (variance estimated scaling parameter depending model type) along total log likelihood residual degrees freedom. figure bycatch across years, confidence intervals. figure abundance indices across years, requested, confidence intervals. Boxplots cross validation metrics across folds, cross-validation requestd. model type, file includes: model selection table MuMIn dredge function. Ordinary quantile residual figures. Observed vs. predicted values figures. figures showing total catch confidence interval. requested, abundance index. results may needed. However, want look closely specific model result, whether selected information criteria cross validation, outputs printed .csv files folders listed species, folder called “Fit files”. files : Model Selection. MuMIn dredge model selection table. Annual Summary. estimated total bycatch, standard errors confidence intervals model. Stratum Summary. estimated total bycatch, standard errors confidence intervals model variables simpleModel. Annual Index. annual abundance index requested.","code":"bycatchFit(   setupObj = setupObj,   modelScenario = \"s1\",   complexModel = formula(y~Year+season),   simpleModel = formula(y~Year),   indexModel = formula(y~Year),   modelTry = c(\"Tweedie\",\"Lognormal\",\"Delta-Lognormal\",\"Delta-Gamma\", \"TMBnbinom1\",\"TMBlognormal\",                           \"TMBnbinom2\",\"TMBtweedie\",\"Normal\",\"Binomial\",\"NegBin\", \"TMBgamma\",\"Gamma\",                           \"TMBbinomial\",\"TMBnormal\",\"TMBdelta-Lognormal\",\"TMBdelta-Gamma\",\"Poisson\",\"TMBpoisson\")[c(7,8,16)],   randomEffects = NULL,   randomEffects2 = NULL,   selectCriteria = \"BIC\",   DoCrossValidation = TRUE,   CIval = 0.05,   VarCalc = \"Simulate\",   useParallel = TRUE,   nSims = 100,   plotValidation = FALSE,   trueVals = NULL,   trueCols = NULL,   reportType = \"html\" ) ## [1] \"1 Simulated species, catch, complete, 2025-08-15 17:24:58.229493\""},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/UserGuide2.html","id":"details-and-guidance-on-using-models","dir":"Articles","previous_headings":"","what":"Details and guidance on using models","title":"BycatchEstimator User Guide","text":"bycatchFit function provides many options observation error model groups (modelTry) allow users flexibility setting models. However, many models (e.g. normal, Poisson) unlikely effective. practice, negative binomial (1 2), delta-lognormal Tweedie work applications, glmmTMB versions run quickly. section provides details model fit selection works, guidance selecting models.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/UserGuide2.html","id":"glm-model-types","dir":"Articles","previous_headings":"Details and guidance on using models","what":"GLM model types","title":"BycatchEstimator User Guide","text":"Generalized linear models (GLM) vary whether assume y data 0 1 (binomial), counts (negative binomial), real numbers (others), model mean model variance data. user selects model, code automatically sets details (e.g. link functions, response variables, offsets) explained . code takes Catch Effort inputs calculates CPUE Catch/Effort sample unit. Presence zero Catch zero 1 otherwise. binomial models presence/absence data, used estimate probability presence, expected CPUE. binomial, mean probability positive observation modeled logit link, meaning log odds positive observation predicted linear model. model may used estimate bycatch rare species one ever caught time, also used model positive versus zero observations delta models (see ). negative binomial using glm.nb function MASS library (Venables Ripley (2002)) nbinom2 glmmTMB library(Brooks et al. (2017)) ordinary negative binomial, variance : σ2=μ+μ2/θ\\sigma^2=\\mu+\\mu^2/\\theta θ\\theta estimated parameter. nbinom1, variance defined : σ2=μ(1+α)\\sigma^2= \\mu(1+\\alpha) α\\alpha estimated parameter. version negative binomial model, equivalent quasi-Poisson model, gives somewhat different results negative binomial models. estimated values θ\\theta α\\alpha given “scale” column parameter summary table. negative binomial models predict integer counts, appropriate modeling bycatch numbers per sample unit. model catch per unit effort (CPUE) sample unit(e.g. set) might different amount effort (e.g. hook-hours) necessary include effort offset model. use log link negative binomial models, model predicts: log(Ci)=b0+b1x1+offset(log(Ei))log(C_i)=b_0+ b_1x_1+offset(log(E_i)) CiC_i catch sample unit ii observer data, b0+b1x1b_0+ b_1x_1 example linear predictor intercept slope, offset log effort EiE_i trip. algebraically equivalent modeling CPUE function linear predictors, e.g. log(Ci/Ei)=b0+b1x1log(C_i/E_i)=b_0+ b_1x_1 model can used predict CPUE inputting Effort=1, predict catch inputting Effort sample unit. code sets offset automatically, don’t put simpleModel complexModel. However, best models shown output tables show full formula R formula format, e.g. formula y=1+x1+offset(log(Effort))y=1 + x_1+offset(log(Effort)), 1 indicates intercept, offset distinguished predictor variables keyword “offset”. Negative binomial models work well, even rare species, data counts numbers animals caught, model can handle large numbers zero observation low estimated mean. allow negative binomial models also used catch bycatch measured weight (.e. non-integer values), code rounds catches integers running model. catches less 0.5, rounded 0, might want change scale using negative binomial models (e.g., multiply 10). Poisson distribution, available modelTry = “Poisson” “TMBpoisson” works negative binomial except estimated scale parameter, defines variance equal mean. Poisson appropriate completely random count data either clumped overdispersed. generally work well Negative Binomial, included comparison. may worth using scale parameter negative binomal 1 2 implies variance similar mean (.e. large value scale parameter nbinom2, small value near zero nbinom1 implies variance close mean). Tweedie distribution (“Tweedie” “TMBtweedie” modelTry) generalized function estimates distribution similar Gamma distribution, except allows extra probability mass zero. thus appropriate either continuous integer data extra zeros. uses log link, , addition linear predictor log(mean) CPUE, estimates index parameter pp dispersion parameter ϕ\\phi together determine shape distribution. variance σ2=ϕμp\\sigma^2=\\phi \\mu^p. Delta-lognormal models work applying binomial model presence absence (0,1) bycatch species sample unit estimate probability presence. , mean CPUE conditional species present calculutated fitting lognormal Gamma model positive observations . delta lognormal models, CPUE log transformed, mean CPUE positive observations modeled positive data . delta-Gamma method, log link used model positive CPUE values. lognormal Gamma component fitted positive CPUE observations, possible levels factors data (.e species never observed strata). case, see warning variables may dropped model. years don’t data year predictor variable, delta models applied. Delta models work rare species small sample sizes require least positive observations across range variables lognormal Gamma models meaningful. Simple normal, lognormal Gamma options also available. Lognormal Gamma models run CPUE data, including zeros, adding constant 0.1, subtracted making predictions. models unlikely work rare species, included comparison.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/UserGuide2.html","id":"model-selection-with-information-criteria","dir":"Articles","previous_headings":"Details and guidance on using models","what":"Model selection with information criteria","title":"BycatchEstimator User Guide","text":"Within observation error model group, information criteria used find best model. MuMin dredge function fitting nested models complex simplest. example, complexModel y∼Year*seasony\\sim Year*season, model Year, season interaction y∼Year+season+Year:seasony\\sim Year+season+Year:season, simpleModel Null model y∼1y\\sim 1, models included : y∼Year+season+Year:seasony\\sim Year+season+Year:season y∼Year+seasony\\sim Year+season y∼Yeary\\sim Year y∼seasony\\sim season y∼1y\\sim 1 recommended model selection criterion BIC BIC less likely prefer overly complex models sample size large (Burnham Anderson (2004)). Information criteria work weighing tradeoff model fit model complexity. AIC AIC=−2log(L)+2kAIC=-2log(L)+2k L likelihood, −2log(L)-2log(L) model deviance, kk number parameters. lower deviance (higher likelihood) implies better model fit. However, complexity penalty 2k2k means added parameter (e.g. another predictor variable coefficient) must reduce deviance 2 units improve fit enough worth extra parameters. BIC BIC=−2log(L)+nkBIC=-2log(L)+nk nn total sample size. Thus, complexity penalty increases sample size. desirable large datasets , AIC, complex proposed model almost always preferred even explained little model deviance. MuMin summary table (model summary file separate CSV) includes information criteria model considered, well model weights calculated information criterion user specified, wi=−0.5Δi/∑(−0.5Δi)w_i=-0.5\\Delta_i/\\sum(-0.5\\Delta_i), delta Δi\\Delta_i difference information criteria model ii best model. Model weights sum one indicate degree support model data (Barton (2020)). best model highest weight lowest Δ\\Delta. , cases models may also strong support, perhaps considered, particularly simpler. current version code use MuMIn’s model averaging function, may worth considering several models similar weights. model selection table also includes information criteria, can see consistent. also provide value pseudo R2R^2 model output table. calculated using r.squaredGLMM function (Barton (2020)), can interpreted rough measure variance explained model. However, note high R2R^2 values may needed bycatch estimation; R2R^2 measures accurately sample unit’s bycatch can predicted, total bycatch summed many sample units, may quite accurate even variation sample units well explained. deciding sets predictor variables use, keep mind following. observer program set stratified random sampling design, meaning observer coverage level varies stratify defined factor variables Year, area, season, geartype, etc., variables included model avoid bias caused oversampling strata atypical bycatch rates. extreme example, suppose observer program allocated extra observers strata (particular gear area) recent years strata known higher bycatch species interest. case, necessary include gear, season, year, area least interactions model allow model localize high bycatch rates strata. example, appropriate complexModel might y∼Year*area*geary\\sim Year*area*gear. equivalent y∼Year+area+gear+Year:area+Year:gear+area:gear+Year:area:geary\\sim Year+area+gear+Year:area+Year:gear+area:gear+Year:area:gear model possible interactions allows strata estimated bycatch rate, similar design-based estimator stratification variables pooling. course, necessary data combinations variables fit model, often happen, even large sample sizes gear types used areas. alternative approach include variable called example gearArea combined two variables, avoid need estimate non-exsistent combinations. Another options include interactions random effects make estimable (Ortiz Arocha (2004)). sample sizes small species rare, may possible estimate bycatch rates Year separately (.e. include year factor variable simpleModel), although annual estimates total bycatch often needed. One possible solution require Year model, including simpleModel. example, setting simpleModel null model y∼1y\\sim1 allows information criteria used find best model, even include Year variable. model still produce separate estimates Year, model predicts bycatch recorded logbook effort, effort lead estimated bycatch even model estimates CPUE sample units. Another possible approach include 2-year 3-year periods factor variable, rather Year. , Year still bycatch estimate, model predictions bycatch rate can estimated model include Year specficially variable. Finally, Year can input numeric variable. approach can useful model consistent increase decrese time. numeric Year, model y∼Yeary\\sim Year estimate linear trend across years. Polynomial regression may useful way estimate complex trends across years data sets years enough data estimate Year categorical fixed effect. can specified , example y∼Year+(Year2)+(Year3)y \\sim Year + (Year^2) + (Year^3). considering including additional variables model, Year stratification variables used sampling design, key consideration whether variable available, interpretation, observer logbook data. example, analyst might want include gear description variable influences catch rates observer data. However, logbook data may exact information effort. case, even variable improve predictive skill (.e R squared) model fitted observer data, useful CPUE standardization observer data, use total bycatch estimation.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/UserGuide2.html","id":"model-residuals-and-residual-diagnostics","dir":"Articles","previous_headings":"Details and guidance on using models","what":"Model residuals and residual diagnostics","title":"BycatchEstimator User Guide","text":"best model (according information criterion) observation error model group, ordinary residuals DHARMa scaled residuals plotted (also called quantile PIT probability integral transform residuals), DHARMa diagnostics calculated (Hartig (2020)). DHARMa library uses simulation generate quantile residuals based specified observation error model results clearly interprettable ordinary residuals non-normal models. DHARMA draws random predicted values fitted model generate empirical predictive density data point calculates fraction empirical density greater true data point. Values 0.5 expected, values near 0 1 indicate mismatch data model. Particularly binomial negative binomial models, ordinary residuals normally distributed, DHARMa residuals better representation whether data consistent assumed distribution.(See DHARMa vignette (Hartig (2020)) good explanation interpet quantile residuals.) regular residuals DHARMa residuals appropriate lognormal Gamma models, since model continuous data expected approximately normal transformed link function. model output file shows table P values Kolmogorov-Smirnoff test whether DHARMa residuals uniformly distributed expected, test -dispersion, test zero-inflation (meaningless delta models, helpful see negative binomial tweedie models adequately model zeros) test whether outliers expected. models used analyses, DHARMA residuals uniformly distributed, indicated QQUniform plot (small datasets) Kolmogorov-Smirnov test uniformity. DHARMA residuals show substantial -dispersion model appropriate. general,well-specified model show points along line DHARMa qqnorm plots, points scattered 0 1 pattern DHARMa residual plot. large datasets, violations assumptions matter less model fitting. However, better select model group obvious deviations form model assumptions DHARMa residual plots. models fit, code keeps track whether model converged correctly, , went wrong. model fit summary table model results file shows “-” models converged successfully, “data” models fit due insufficient data (positive observations year prevents fitting delta models), “fit” models failed converge, “cv” models produced results unreasonably high CVs (>10). Models fail ways discarded used cross validation bycatch estimation. get one errors model want use, check data checking figures tables missing combinations predictor variables, extreme outliers, years positive observations.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/UserGuide2.html","id":"cross-validation","dir":"Articles","previous_headings":"Details and guidance on using models","what":"Cross validation","title":"BycatchEstimator User Guide","text":"Cross-validaton method identify models perform well --sample prediction, meaning predicting values y data points used fit original observations. observation error models converged produced reasonable results complete data set used cross validation. example, enough positive observations years estimate delta-lognormal delta-Gamma models, included cross validation. cross validation, observer data randomly divided 10 folds. fold left one time models fit 9 folds. predictor variables chosen best model full dataset used fold full data set save time. fitted model used predict CPUE left fold, root mean square error calculated : RMSE=1n∑=1n(yî−yi)2RMSE =\\frac{1}{n}\\sum_{=1}^{n}(\\hat{y_i}-y_i)^2 n number observed trips y CPUE data left-tenth observer data, ŷ\\hat{y} CPUE predicted model fitted 9/10th observer data. model lowest mean RMSE across 10 folds selected best model. Mean error () also calculated indicator whether model systematic bias. =1n∑=1nyî−yiME =\\frac{1}{n}\\sum_{=1}^{n}\\hat{y_i}-y_i Note cross-validation done one random draw data. use cross-validation model selection appropriate one draw. intended diagnose large problems model predictive ability. practice, many data sets cross-validation shows many models perform similarly, make similar estimates total bycatch.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/UserGuide2.html","id":"total-bycatch-calculation","dir":"Articles","previous_headings":"Details and guidance on using models","what":"Total bycatch calculation","title":"BycatchEstimator User Guide","text":"model group, best model, selected information criteria, used estimate total bycatch exception binomial, model estimates total number positive trips. binomial model, best model used predict probability positive observation logbook trip summed get total number positive trips year (stratum stratification requested). number positive trips calculated , rare species never caught trip, number positive trips good estimate total bycatch many models fail converge. common species, estimates total catch appropriate, results binomial model alone included cross validation model comparison. calculate total bycatch models, model predicts catch sample unit logbook data models fitted observer data sums sample units get total baycatch. negative binomial models, log(effort) logbook trips used offset predictions, along values predictor variables, model can predict bycatch logbook sample unit directly. Tweedie normal models predict CPUE, multiplied effort. Delta-lognormal delta-Gamma models separate components probability positive observation CPUE positive, must multiplied together (appropriate bias corrections) multiplied effort get total catch. Catch sample summed across sample get total catch year. variance prediction sample calculated variance prediction interval, variance estimated mean prediction plus residual variance. variances summed across sample units get variance total catch estimate year. predicted catches logbook trip dependent linear model coefficients, across multiple trips, trips independent; thus, variances added without accounting covariance. variance total catch year thus calculated either using Monte Carlo simulation, using delta method (described ). Users may also chose estimate variances large logbook datasets methods work. case unobserved bycatch estimated, observed bycatch added predictions known constant variance. delta method variance available delta-lognormal, delta-Gamma Tweedie models using cplm, although available Tweedie using glmmTMB. delta-lognormal models, variance predicted CPUE needed bias-correct converting mean predicted log(CPUE) mean predicted CPUE. variance prediction interval trip calculated variance estimated mean plus residual variance, value used bias correction. total predicted CPUE predicted probability positive observation binomial times predicted positive CPUE, predicted catch predicted CPUE times effort. variance total CPUE calculated using method Lo, Jacobson, Squire (1992). Monte Carlo variance estimation method, first draw random values linear model coefficients multivariate normal distribution mean variance/covariance matrix estimated model. predictions trip drawn draw parameters using appropriate probability density function (e.g. Tweedie, negative binomial) additional parameters (e.g. residual variance, negative binomial dispersion, Tweedie pp ϕ\\phi) estimated model. Trips summed year (adding observed catch necessary) within draw, mean, standard error, quantiles (e.g. 2.5% 97.5% 95% confidence interval) calculated across Monte Carlo draws. approximation total variance predicted bycatch can also made using delta method. delta method approximates variance function variable derivative function squared times variance original variable. Thus, variance prediction intervals original data scale calculated pre post multiplying derivative inverse link function variance covariance matrix predicted values. Σp=JΣlJ′\\Sigma_p = J \\Sigma_l J' Σl\\Sigma_l variance covariance matrix predicted trips stratum scale log link, J matrix derivatives. See function MakePredictionsDeltaVar bycatchFunctions.R details model type. code partly based method developed https://stackoverflow.com/questions/39337862/linear-model--lm---get-prediction-variance--sum--predicted-value. delta method available delta-Gamma, delta-lognormal, Tweedie via cplm library. error models, simulation method used even delta method selected VarCalc. logbook data aggregated across multiple trips (e.g. strata) effort allocated equally trips row logbook data table purpose simulating catches estimating variances using delta method. allocation procedure needed estimate mean total bycatch, necessary estimate variances correctly. using aggregated effort, yet possible include observed catches known.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/UserGuide2.html","id":"grouping-and-aggregation-in-data","dir":"Articles","previous_headings":"Details and guidance on using models","what":"Grouping and aggregation in data","title":"BycatchEstimator User Guide","text":"final consideration data setup models use sample unit. longline fishery, example, bycatch estimation often done set--set data. However, observers allocated vessel-trips, sets, sets within trips correlated, using sets sample unit without modeling within vessel-trips correlation might introduce bias total bycatch variance calculations. example, 10% sets sampled vessel-trip area, representative fishery. sets similar, estimated bycatch may biased, confidence intervals narrow. One solution problem put vessel vessel-trip model random effect. effect correctly modeling grouping data withing vessel-trips, probably statistically correct way deal problem. Another solution use trips sample unit. case, observer data include bycatch effort across sets trip, elimimating problem correlation sets. advantage reducing sample size correctly account number independent samples (vessel-trips), variance esimates correct. method work important variables included set level, , example, depth zone stratification variable vessel-trips may fish one depth-zone. trips fish multiple depth-zones (variable) common one can assigned trip without much loss information. See Babcock et al. (2018) example method used sea turtle bycatch shrimp trawls.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/UserGuide2.html","id":"abundance-index-calculation","dir":"Articles","previous_headings":"Details and guidance on using models","what":"Abundance index calculation","title":"BycatchEstimator User Guide","text":"user requests annual abundance index, also calculated best model model group. annual abundance index calculated setting variables year, variables required included index (e.g. region fleet) reference level, mean numerical variables common value categorical variables. index calculated predicting mean CPUE year, standard error calculated standard error mean prediction. delta-lognormal delta-Gamma models standard error prediction calculated means standard errors binomial positive catch models using method Lo, Jacobson, Squire (1992). set EstimateBycatch FALSE, EstimateIndex TRUE, bycatchFit can estimate CPUE abundance index dataset. dataset used index estimated “obsdat” even logbook dataset, model applied dataset labelled “obsdat”. advice CPUE standardization, see papers Ortiz Arocha (2004), Maunder Punt (2004) Hoyle et al. (2024).","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/UserGuide2.html","id":"loading-outputs-for-futher-plotting-and-analysis","dir":"Articles","previous_headings":"","what":"Loading outputs for futher plotting and analysis","title":"BycatchEstimator User Guide","text":"may use function load loadOutputs read either model-based design-based results, specifying runName, runDate, character vectors values designScenario /modelScenario. function returns list, including: setupObj original setupObj run designObjList results across designScenarios including bycatchInput bycatchOutput lists. ModelObjList results across modelScenarios including modelInput modelOutput lists. runName allYearEstimates long-format data-frame results design-based model-based estimate design model scenarios requested. one species catchtype run, included. columns Scenario (design model), Common (common name), Species (scientific name), CatchType, Source (method model used estimation), Run (run name), well Year, Total, Total Var, Total.mean, TotalLCI, TotalUCI, Total.se, Total.cv, column called Valid, 1 valid models methods, 0 models problem model fitting. data-frame appropriate ggplot.  results multiple runs can also combined, bind_rows. code produce data frame results scenarios species runs together, distinguished column called “Run”. Within list returned loadOutputs,results designOutputs modelOutputs include: ModFits, list species, containing lists model fits. modpredVals, list species, containing list tibbles bycatch. allmods, long format tibble model annual predictions together, included allYearEstimates Allindex, abundance indices calculated. design-based results: designyeardf, annual estimate bycatch, .csv file poolingSum, pooling summary data, .csv file yearSumGraph, annual summaries formula model outputs allmods, combined allYearEstimates","code":"library(tidyverse) #for data manipulation and ggplot #Load in both design and model based estimates allResults<-loadOutputs(baseDir = getwd(),                       runName= \"Simulated\",                       runDate =  Sys.Date(),                       designScenarios = \"withPooling\",                       modelScenarios = \"s1\" ) #Plot all together ggplot(allResults$allYearEstimates,aes(x=Year,y=Total,                                        ymin=TotalLCI,ymax=TotalUCI,                       fill=Source,color=Source))+   geom_line()+   geom_ribbon(alpha=0.4)+   theme_bw() Run1<-loadOutputs(baseDir = getwd(),                   runName = \"Run1\",                   designScenarios = c(\"noPool\",\"Pool1\"),                   modelScenarios = c(\"s1\",\"s2\")) Run2<-loadOutputs(baseDir = getwd(),                   runName = \"Run2\",                   designScenarios = c(\"noPool\",\"Pool1\"),                   modelScenarios = c(\"g1\",\"g2\")) allRuns<-bind_rows(Run1,Run2)"},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/UserGuide2.html","id":"validation-and-conclusions","dir":"Articles","previous_headings":"","what":"Validation and conclusions","title":"BycatchEstimator User Guide","text":"Although code automates much process bycatch estimation, including model selection, important keep mind results correct assumptions method met. methods expanding sample (e.g. observer data) total fishery (e.g. logbooks) dependent assumption sample representative whole fishery. assumption may violated many cases , example: certain kinds vessels take observers (e.g. larger vessels room observers, ports sectors cooperative). Fishers behave differently observers present, example avoiding bycatch observer data used enforcement. observer program allocates observers non-randomly, without adequately documenting allocation criteria, allocation changed time. Observer data includes information extra trips, usual observer monitoring, specifically targeted research purpose, e.g. bycatch mortality study, extra trips strata bycatch known problem. Observer data combined multiple sources, clear components fishery covered (e.g. observers placed different programs different gear target species, vessels participate ). Total effort data representative fishery, example fishers report effort, effort inferred landings records, units effort interpreted way logbooks vs. observer data. reasons, ’s important validate bycatch estimates possible. One possible validation technique use bycatch estimate method estimate total catch landed species, compare total landings. total landings several target species estimated bycatchEstimtor tool consistent recorded landings weighed fish landing sites, indicates observer data representative fishery. estimates consistent known landings, one problems listed may exist. cases including additional stratification predictor variables may resolve problem (e.g. vessel size, indicator variable different observer programs different sampling strategies). model-based estimation, recommended final model used without looking closely outputs. selected model must good fits reasonably consistent data according DHARMa residuals. results appear reasonable around scale ratio estimator results. model overly complex. Also, look model selection table see models also supported data. model-based estimates different design-based estimates, important understand differ. cases, model results using additional variables (e.g. variables giving details fishing gear fish habitat), model-based estimates may better. guidance bycatch estimation, see simulation papers published ICCAT (Babcock et al. (2022), Babcock et al. (2023)).","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/articles/UserGuide2.html","id":"appendix","dir":"Articles","previous_headings":"","what":"Appendix","title":"BycatchEstimator User Guide","text":"Descriptions columns outputs function. bycatchSetup function DataSummary/StrataSummary tables: Year Eff: effort logbook data Units: sample units logbook data OCat: observed catch (observer data) OEff: observed effort (observer data) Ounit: observed sample units (observer data) CPUE: mean catch per unit effort CPse: standard error CPUE : count outliers defined data points 8 SD mean Pos: number sample units positive observations (presence) OCatS: standard deviation observed catch OEffS: standard deviation observer effort Cov: covariance matrix PFrac: fraction positive observations (positive observations divided observed sample units) EFrac: fraction effort observed (observed effort divided logbook effort) UFrac: fraction sample units observed (observed sample units divided logbook sample units) Cat: estimated catch using unstratified ratio estimator (observed catch divided observed effort raised logbook effort) Cse: standard error estimated catch bycatchDesign function Pooling.csv file: Year totalUnits: sum sample units logbook data totalEffort: sum effort logbook data units: sum sample units observer data effort: sum effort observer data pooled.n: number sample units don’t need pooling (observer sample units > minStrataUnit) poolnum: number sample units pooling occurred? pooledTotalUnits: pooled total sample units (logbook data) pooledTotalEffort: pooled total effort (logbook data) DesignYear/DesignStrata tables: Year ratioMean: mean bycatch calculated ratio estimator ratioSE: standard deviation ratio estimator deltaMean: mean bycatch calculated delta estimator deltaSE: standard deviation delta estimator bycatchFit function AnnualSummary/StratumSummary tables: Year Total: estimated total bycatch Totalvar: variance estimated total bycatch Total.mean: mean across simulations (VarCalc = Simulate) TotalLCI: lower confidence interval bound TotalUCI: upper confidence interval bound Total.se: standard error estimated total bycatch Total.cv: coefficient variation ModelSelection tables: cond..Int: intercept conditional model disp..Int: intercept dispersion model AICc, AIC, BIC: model information criteria (lower better) df: degrees freedom logLik: log-likelihood model selectCriteria: criteria actually used rank models delta: difference selection criteria best model weight: Akaike weights (relative support model) Index tables: Index: mean cpue SE: standard error mean cpue lowerCI: lower bound confidence interval upperCI: upper bound confidence interval crossvalSummary table: model: model type formula: formula BIC best model RMSE: root mean square error : mean error modelSummary table: KS.D: value Kolmogorov-Smirnov test uniformity residuals KS.p: p-value Kolmogorov-Smirnov test uniformity residuals Dispersion.ratio: value dispersion test (residuals variance), compares ratio observed simulated residuals Dispersion.p: p-value dispersion test ZeroInf.ratio: value zero inflation test compared ratio observed expected zeros ZeroInf.p: p-value zero inflation test Outlier: outlier test, number residuals outside expected 95% confidence interval Outlier.p: p-value outlier test rmse tables: values mean error () mean square error (RMSE) fold cross validation","code":""},{"path":[]},{"path":"https://ebabcock.github.io/BycatchEstimator/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Elizabeth Babcock. Author, maintainer. William Harford. Author, contributor. Ana Adao. Author, contributor.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Babcock E, Harford W, Adao (2025). BycatchEstimator: Generic Model-Based Bycatch Estimation Procedure. R package version 1.0.0.000, https://ebabcock.github.io/BycatchEstimator/.","code":"@Manual{,   title = {BycatchEstimator: Generic Model-Based Bycatch Estimation Procedure},   author = {Elizabeth Babcock and William Harford and Ana Adao},   year = {2025},   note = {R package version 1.0.0.000},   url = {https://ebabcock.github.io/BycatchEstimator/}, }"},{"path":"https://ebabcock.github.io/BycatchEstimator/index.html","id":"bycatchestimator-","dir":"","previous_headings":"","what":"Generic Model-Based Bycatch Estimation Procedure","title":"Generic Model-Based Bycatch Estimation Procedure","text":"BycatchEstimator uses model-based design-based procedures estimate total annual bycatch expanding sample, observer database total effort logbooks landings records. model framework can also used estimate annual index abundance, calculated observer data. See User’s Guide articles https://ebabcock.github.io/BycatchEstimator/ details. source code https://github.com/ebabcock/BycatchEstimator. development version Shiny app runs data checks described , go https://natureanalytics.shinyapps.io/BycatchEstimator/","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Generic Model-Based Bycatch Estimation Procedure","text":"code runs best R studio. running code first time, install latest versions R RStudio. output figures tables can printed html pdf file using R Markdown knitr library, outputs LaTex file. want results pdf format, must LaTex program installed, TinyTex (https://yihui.org/tinytex/). default results printed html file, can extract figures tables. can install development version BycatchEstimator GitHub : help installation, see Installation Guide. Also, see video tutorial Passcode: gZ!tK8!n used older versions tool, see article adjust code use new version. articles https://ebabcock.github.io/BycatchEstimator/ called Transitioning new version bycatchEstimator 2025.","code":"# install.packages(\"devtools\") devtools::install_github(\"ebabcock/BycatchEstimator\")"},{"path":"https://ebabcock.github.io/BycatchEstimator/index.html","id":"getting-started","dir":"","previous_headings":"","what":"Getting started","title":"Generic Model-Based Bycatch Estimation Procedure","text":"Due complication coding, user must load library(MuMIn) addition library(BycatchEstimator).","code":"library(BycatchEstimator) library(MuMIn)"},{"path":"https://ebabcock.github.io/BycatchEstimator/index.html","id":"llsim-example","dir":"","previous_headings":"","what":"LLSIM Example","title":"Generic Model-Based Bycatch Estimation Procedure","text":"demonstrate use, example data sets included R package. example, use data sets LLSIM (Goodyear 2021).","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/index.html","id":"logbook-data","dir":"","previous_headings":"LLSIM Example","what":"Logbook data","title":"Generic Model-Based Bycatch Estimation Procedure","text":"Simulation longline fleets LLSIM conducted using three idealized fleets described Goodyear (2021). fleets USA-like fleet (fleet 1), Japan-like fleet (fleet 2) Brazil-like fleet (fleet 3). simulated data set included three fleets, data spanning 1990 2018 reflect approximate period observer coverage established. species distribution model (SDM) longline simulator generates 3-dimensional distribution blue marlin swordfish throughout Atlantic Ocean based habitat preferences species. Simulated longline sets generated distributing hooks throughout habitat species, consistent distribution, gear, hooks floats, use lightsticks characteristics historical longline fishing fleets. LLSIM initially produces set-level catches, logbooks observer databases allocated trip (Babcock Goodyear 2021). Sets allocated trip gear, month spatial area (5 x 5 squares). Trips 100 sets randomly allocated different trips median trips 20 sets.","code":"LLSIM_BUM_Example_logbook"},{"path":"https://ebabcock.github.io/BycatchEstimator/index.html","id":"observer-program-data","dir":"","previous_headings":"LLSIM Example","what":"Observer program data","title":"Generic Model-Based Bycatch Estimation Procedure","text":"Observer program data generated passing trip-level logbook data observer program sub-model. observer sub-model assumes observer coverage randomly assigned trips, 5% coverage trips. entire trip assumed observed.","code":"LLSIM_BUM_Example_observer"},{"path":"https://ebabcock.github.io/BycatchEstimator/index.html","id":"data-setup","dir":"","previous_headings":"LLSIM Example","what":"Data setup","title":"Generic Model-Based Bycatch Estimation Procedure","text":"first step bycatch estimation set input file review data. returned value bycatchSetup assigned object used subsequent steps. first step also produces html output (default) saved working directory user review. html output contains summary figures tables showing sample size presence/absence bycatch species across levels predictor variables, observer coverage levels, raw trends CPUE. bycatchSetup also indicate missing data NAs warning messages console printed messages html output.","code":"setupObj<-bycatchSetup(   obsdat = droplevels(LLSIM_BUM_Example_observer[LLSIM_BUM_Example_observer$Year>2010 &LLSIM_BUM_Example_observer$fleet==2,]),   logdat = droplevels(LLSIM_BUM_Example_logbook[LLSIM_BUM_Example_logbook$Year>2010 & LLSIM_BUM_Example_logbook$fleet==2,]),   yearVar = \"Year\",   obsEffort = \"hooks\",   logEffort = \"hooks\",   obsCatch = c(\"SWO\",\"BUM\")[2], # selecting Blue marlin catch   catchUnit = \"number\",   catchType = \"catch\",   logNum = NA,   sampleUnit = \"trips\",   factorVariables = c(\"Year\",\"area\",\"season\"),   numericVariables = NA,   EstimateBycatch = TRUE,   baseDir = getwd(),   runName = \"LLSIMBUMtripExample\",   runDescription = \"LLSIMBUM by trip\",   common = c(\"Swordfish\",\"Blue marlin\")[2], # selecting Blue marlin   sp = c(\"Xiphias gladius\",\"Makaira nigricans\")[2], # selecting Blue marlin   reportType = \"html\" )"},{"path":"https://ebabcock.github.io/BycatchEstimator/index.html","id":"design-based-estimators","dir":"","previous_headings":"LLSIM Example","what":"Design-based estimators","title":"Generic Model-Based Bycatch Estimation Procedure","text":"Estimation bycatch using design-based estimators done bycatchDesign, requiring output bycatchSet inputs. uses stratified ratio estimator stratified delta-lognormal estimator, stratification variables defined user. deal strata observations observations, user may request pooling, specify minimum number sample units needed avoid pooling. bycatchDesign also produces html pdf output results specified directory.","code":"designObj <- bycatchDesign(   setupObj = setupObj,   designScenario = \"noPool\",   designMethods = c(\"Ratio\", \"Delta\"),   designVars = c(\"Year\",\"area\",\"season\"),   designPooling = FALSE,   poolTypes=c(\"adjacent\",\"all\",\"none\"),   pooledVar=c(NA,NA),   adjacentNum=c(1,NA),   minStrataUnit = 1,   reportType=\"html\" )"},{"path":"https://ebabcock.github.io/BycatchEstimator/index.html","id":"model-based-estimators","dir":"","previous_headings":"LLSIM Example","what":"Model-based estimators","title":"Generic Model-Based Bycatch Estimation Procedure","text":"Estimation bycatch /index abundance carried using function bycatchFit. function requires object produced bycatchSetup. Bycatch estimation carried running linear models based user-defined statistical distributions observation error models (e.g. delta-lognormal, negative binomial) predictor variables (e.g., year, season, depth). task identifying best approximating model addressed semi-automated model selection process based user’s choice information criteria (AICc, AIC BIC) cross validation. best approximating model identified, standardized CPUE model used predict total bycatch logbook trips summing across trips. user needs define complex model configuration simple model configuration, function fit models . Random effects can also specified, user needs opt-cross validation. default method variance calculation simulation method, options available. bycatchFit also produces html pdf output results specified directory.","code":"bycatchFit(   setupObj = setupObj,   modelScenario = \"s1\",   complexModel = formula(y~Year+area),   simpleModel = formula(y~Year),   indexModel = formula(y~Year),   modelTry = c(\"TMBnbinom1\",\"TMBtweedie\"),   randomEffects = NULL,   randomEffects2 = NULL,   selectCriteria = \"BIC\",   DoCrossValidation = TRUE,   CIval = 0.05,   VarCalc = \"Simulate\",   useParallel = TRUE,   nSims = 100,   plotValidation = FALSE,   trueVals = NULL,   trueCols = NULL,   reportType = \"html\" )"},{"path":"https://ebabcock.github.io/BycatchEstimator/index.html","id":"optionally-reload-model-results-for-plotting","dir":"","previous_headings":"LLSIM Example","what":"Optionally reload model results for plotting","title":"Generic Model-Based Bycatch Estimation Procedure","text":"function loadOutputs reads R objects analysis, well data frame called allYearEstimates appropriate plotting ggplot.","code":"allResults<-loadOutputs(baseDir = getwd(),                       runName= \"LLSIMBUMtripExample\",                       runDate =  Sys.Date(),                       designScenarios = \"noPool\",                       modelScenarios = \"s1\" ) #Plot all together ggplot(allResults$allYearEstimates,aes(x=Year,y=Total,                                        ymin=TotalLCI,ymax=TotalUCI,                       fill=Source,color=Source))+   geom_line()+   geom_ribbon(alpha=0.4)+   theme_bw()"},{"path":"https://ebabcock.github.io/BycatchEstimator/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Generic Model-Based Bycatch Estimation Procedure","text":"Goodyear, C.P. 2021. Development new model fisheries simulating longline catch data LLSIM. Collect. Vol. Sci. Pap. ICCAT, 78(5): 53-62 Babcock, E.. C. P. Goodyear. 2021. Testing bycatch estimation tool using simulated blue marlin longline data. ICCAT Collective Volume Scientific Papers, 78(5): 179-189. Babcock E. ., W. J. Harford, T. Gedamke, D. Soto, C. P. Goodyear. 2022. Efficacy bycatch estimation tool. ICCAT Collective Volume Scientific Papers 79(5): 304-339 Babcock, E. ., W. J. Harford, T. Gedamke, S. Anderson, C. P. Goodyear. 2023. Simulation-Testing Model-Based Design-Based Bycatch Estimators. ICCAT Collective Volume Scientific Papers 80 (6): 51–79.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 BycatchEstimator authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/addR2.html","id":null,"dir":"Reference","previous_headings":"","what":"Return a column of R squared values from input of a MuMin dredge table — addR2","title":"Return a column of R squared values from input of a MuMin dredge table — addR2","text":"Return column R squared values input MuMin dredge table","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/addR2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return a column of R squared values from input of a MuMin dredge table — addR2","text":"","code":"addR2(dredgeTable, obsdatval, funcName)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/addR2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return a column of R squared values from input of a MuMin dredge table — addR2","text":"dredgeTable dredge output MuMin obsdatval observer data funcName function used fitting (e.g. glm glmmTMB)","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/areaDivide.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to divide up areas. Input grid areas, returns East vs. West — areaDivide","title":"Function to divide up areas. Input grid areas, returns East vs. West — areaDivide","text":"Function divide areas. Input grid areas, returns East vs. West","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/areaDivide.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to divide up areas. Input grid areas, returns East vs. West — areaDivide","text":"","code":"areaDivide(area)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/areafunc.html","id":null,"dir":"Reference","previous_headings":"","what":"Stratum designations from Scott-Denton paper, and shrimp observer manual for GOM shrimp areas — areafunc","title":"Stratum designations from Scott-Denton paper, and shrimp observer manual for GOM shrimp areas — areafunc","text":"Stratum designations Scott-Denton paper, shrimp observer manual GOM shrimp areas","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/areafunc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stratum designations from Scott-Denton paper, and shrimp observer manual for GOM shrimp areas — areafunc","text":"","code":"areafunc(x)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/areaGOM.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to convert new areas to old areas from Kevin McCarthy — areaGOM","title":"Function to convert new areas to old areas from Kevin McCarthy — areaGOM","text":"Function convert new areas old areas Kevin McCarthy","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/areaGOM.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to convert new areas to old areas from Kevin McCarthy — areaGOM","text":"","code":"areaGOM(x)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/as.numeric2.html","id":null,"dir":"Reference","previous_headings":"","what":"as.numeric2 — as.numeric2","title":"as.numeric2 — as.numeric2","text":".numeric2","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/as.numeric2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"as.numeric2 — as.numeric2","text":"","code":"as.numeric2(x)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/bycatchDesign.html","id":null,"dir":"Reference","previous_headings":"","what":"Bycatch estimation using design-based estimators — bycatchDesign","title":"Bycatch estimation using design-based estimators — bycatchDesign","text":"Produces estimates bycatch using design-based ratio estimator delta estimator, option pooling across stratification variables.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/bycatchDesign.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bycatch estimation using design-based estimators — bycatchDesign","text":"","code":"bycatchDesign(   setupObj = setupObj,   designScenario,   designMethods = \"Ratio\",   designVars = \"Year\",   groupVar = \"Year\",   designPooling = FALSE,   poolTypes = NULL,   pooledVar = NULL,   adjacentNum = NULL,   minStrataUnit = 1,   reportType = \"html\" )"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/bycatchDesign.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bycatch estimation using design-based estimators — bycatchDesign","text":"setupObj object produced bycatchSetup. designScenario Short name, e.g. noPool, Pool1, distinguish outputs made setupObj. designMethods Character vector methods use design based estimation. Current options Ratio Delta (delta-lognormal estimator). designVars Specify strata must included design based estimates, order across data pooled. Order variables determines order pooling occur. groupVar Specify variable keep separate summaries. Defaults Year. Put \"NA\" summarize whole dataset designPooling TRUE design-based estimates pooled strata missing data poolTypes Type pooling variable designVars, character vector order. Options \"none\", data pooled variable, \"\" data pooled levels variable, \"pooledVar\" variable named pooledVar used pool, (currently year ) \"adjacent\" pool adjacent years. pooledVar Variables pool variable pooledVar previous line, character vector order designVars. Use NA variables pooling methods.  can used pool (example) months seasons pooling needed. adjacentNum Number adjacent years include adjacent pooling, numerical vector order designVars. NA anything year, order designVars. minStrataUnit smallest sample size strata defined designVars acceptable, sample units (e.g. trips); pooling occur. reportType Character. Choose type report produced. Options pdf, html (default) .","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/bycatchDesign.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Bycatch estimation using design-based estimators — bycatchDesign","text":"","code":"if (FALSE) { # \\dontrun{ library(BycatchEstimator) #------------------------------------------------- #Step 1. Run the datasetup function and review data inputs setupObj<-bycatchSetup( obsdat = obsdatExample, logdat = logdatExample, yearVar = \"Year\", obsEffort = \"sampled.sets\", logEffort = \"sets\", obsCatch = \"Catch\", catchUnit = \"number\", catchType = \"dead discard\", logNum = NA, sampleUnit = \"trips\", factorVariables = c(\"Year\",\"season\"), numericVariables = NA, EstimateBycatch = TRUE, runName = \"SimulatedExample\", runDescription = \"Example with simulated data\", common = \"Simulated species\", sp = \"Genus species\", reportType = \"html\" )  #------------- #Step 2. Design-based estimators (with pooling) bycatchDesign( setupObj = setupObj, designScenario = \"noPool\", designMethods = c(\"Ratio\", \"Delta\"), designVars = c(\"Year\",\"season\"), groupVar = \"Year\", designPooling = TRUE, poolTypes=c(\"adjacent\",\"all\"), pooledVar=c(NA,NA), adjacentNum=c(1,NA), minStrataUnit = 1 )} # }"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/BycatchEstimator-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Bycatch Estimator — BycatchEstimator-package","title":"Bycatch Estimator — BycatchEstimator-package","text":"Generic Model-Based Bycatch Estimation Procedure","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/BycatchEstimator-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Bycatch Estimator — BycatchEstimator-package","text":"code can estimate total bycatch, calculated expanding sample, observer database, total effort logbooks landings records, annual index abundance, calculated observer data.","code":""},{"path":[]},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/BycatchEstimator-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Bycatch Estimator — BycatchEstimator-package","text":"Maintainer: Elizabeth Babcock ebabcock@rsmas.miami.edu Authors: William Harford bill@natureanalytics.ca [contributor] Ana Adao aadao@natureanalytics.ca [contributor]","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/bycatchFit.html","id":null,"dir":"Reference","previous_headings":"","what":"Bycatch estimation using model-based estimators — bycatchFit","title":"Bycatch estimation using model-based estimators — bycatchFit","text":"Produces model-based estimates bycatch annual abundance index.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/bycatchFit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bycatch estimation using model-based estimators — bycatchFit","text":"","code":"bycatchFit(   setupObj,   modelScenario,   complexModel,   simpleModel,   indexModel = NULL,   modelTry = c(\"Delta-Lognormal\", \"Delta-Gamma\", \"TMBnbinom1\", \"TMBnbinom2\",     \"TMBtweedie\"),   randomEffects = NULL,   randomEffects2 = NULL,   selectCriteria = \"BIC\",   DoCrossValidation = FALSE,   CIval = 0.05,   VarCalc = \"Simulate\",   includeObsCatch = FALSE,   matchColumn = NULL,   EstimateIndex = FALSE,   useParallel = TRUE,   nSims = 1000,   plotValidation = FALSE,   trueVals = NULL,   trueCols = NULL,   reportType = \"html\" )"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/bycatchFit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bycatch estimation using model-based estimators — bycatchFit","text":"setupObj object produced bycatchSetup. modelScenario Short descriptor model setup, eg. \"s1\", output files different run one scenario one setupObj. complexModel Specify stats::formula. Specify complex simplest model considered. code find compare intermediate models using information criteria. Include fixed effects. simpleModel Specify stats::formula. model includes variables must final bycatch estimation model indexModel Specify stats::formula. Use indexModel specify strata keep separate calculating abundance indices. modelTry Specify observation error models try. Options : \"Binomial\", \"Normal\",\"Lognormal\",\"Poisson\", \"Delta-Lognormal\", \"Delta-Gamma\", models using lm glm functions, \"NegBin\" Negative binomial using glm.nb MASS library, \"Tweedie\" Tweedie GLM cpglm function cplm library, \"TMBbinomial\",\"TMBnormal\", \"TMBlognormal\",\"TMBpoisson\" , \"TMBdelta-Lognormal\",\"TMBdelta-Gamma\", \"TMBnbinom1\", \"TMBnbinom2\", \"TMBtweedie\" corresponding models glmmTMB library. Binomial TMBbinomial run automatically part delta models selected. randomEffects Character vector. Random effects included non-delta binomial models, character vector (e.g. \"Year:area\" include Year:area random effect). Null none. Note random effects included models. code evaluate whether included. randomEffects2 Character vector. Random effects included positive catch component delta models, character vector (e.g. \"Year:area\" include Year:area random effect). Null none. Note random effects included models. code evaluate whether included. selectCriteria Character. Model selection criteria. Options AICc, AIC BIC DoCrossValidation Specify whether run 10 fold cross-validation (TRUE FALSE). may work small unbalanced dataset CIval Specify confidence interval total bycatch estimates. alpha level, e.g. 0.05 95% VarCalc Character. Variance calculation method. Options : \"Simulate\",\"DeltaMethod\", \"None\".  Simulate work large number sample units logbook data. delta method variance calculation implemented delta-lognormal delta-gamma methods. includeObsCatch Logical. Set TRUE (1) observed sample units can matched logbook sample units (2) want calculate total bycatch observed bycatch plus predicted unobserved bycatch. work aggregated logbook effort. matchColumn Character. includeObsCatch TRUE, give name column matches sample units observer logbook data. Otherwise, can NA EstimateIndex Logical. like estimate? may calculate either annual abundance index, total bycatch, . useParallel Logical. Whether conduct analysis using parallel processing. initialized two cores available. nSims Number simulations used calculate confidence intervals. Ignored VarCalc set \"None\" plotValidation Logical. true values total bycatch (example simulation study), make plotValidation = TRUE fill rest specification (trueVals trueCols). trueVals data set contains true simulated total catches year. trueCols column true simulated catches contains true bycatch year reportType Character. Choose type report produced. Options pdf, html (default) .","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/bycatchFit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Bycatch estimation using model-based estimators — bycatchFit","text":"","code":"if (FALSE) { # \\dontrun{ library(BycatchEstimator) #------------------------------------------------- #Step 1. Run the datasetup function and review data inputs setupObj<-bycatchSetup( obsdat = obsdatExample, logdat = logdatExample, yearVar = \"Year\", obsEffort = \"sampled.sets\", logEffort = \"sets\", obsCatch = \"Catch\", catchUnit = \"number\", catchType = \"dead discard\", logNum = NA, sampleUnit = \"trips\", factorVariables = c(\"Year\",\"season\"), numericVariables = NA, EstimateBycatch = TRUE, baseDir = getwd(), runName = \"SimulatedExample\", runDescription = \"Example with simulated data\", common = \"Simulated species\", sp = \"Genus species\", reportType = \"html\" )  ------------- #Step 2. Model fitting bycatchFit( setupObj = setupObj, modelScenario = \"s1\", complexModel = formula(y~(Year+season)^2), simpleModel = formula(y~Year), indexModel = formula(y~Year), modelTry = c(\"Delta-Lognormal\",\"TMBnbinom2\"), randomEffects = NULL, randomEffects2 = NULL, selectCriteria = \"BIC\", DoCrossValidation = TRUE, CIval = 0.05, VarCalc = \"Simulate\", includeObsCatch=FALSE, matchColumn=NULL, EstimateIndex=FALSE, useParallel = TRUE, nSims = 100, plotValidation = FALSE, trueVals = NULL, trueCols = NULL )} # }"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/bycatchSetup.html","id":null,"dir":"Reference","previous_headings":"","what":"Bycatch estimation data setup — bycatchSetup","title":"Bycatch estimation data setup — bycatchSetup","text":"Sets global conditions, makes preliminary data summary data checks (make plots tables data).","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/bycatchSetup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bycatch estimation data setup — bycatchSetup","text":"","code":"bycatchSetup(   obsdat,   logdat,   yearVar,   obsEffort,   logEffort,   obsCatch,   catchUnit,   catchType,   logNum = NA,   sampleUnit,   factorVariables,   numericVariables,   EstimateBycatch = TRUE,   baseDir = getwd(),   runName,   runDescription,   common,   sp,   reportType = \"html\" )"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/bycatchSetup.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bycatch estimation data setup — bycatchSetup","text":"obsdat Observer data set logdat Logbook data set yearVar Character. column name year variable obsdat logdat. input files must contain variable name year. obsEffort Character. column name effort variable obsdat. variable must effort units logEffort logEffort Character. column name effort variable logdat. Optional used estimating bycatch. variable must effort units obsEffort obsCatch Character vector. name column(s) obsdat contain catch. vector, order variable names must follow order names provided common sp catchUnit Character vector. Give units catch (e.g., number) go plot labels. Must vector length sp catchType Character vector. Give type catch (e.g., dead discards) go plot labels. Must vector length sp logNum Character vector. name column logdat gives number sample units (e.g., trips sets). logbook data aggregated (.e. row sample unit) set value NA sampleUnit Character. sample unit logdat? e.g. sets trips. factorVariables Character vector. Specify variables interpreted categorical, ensuring factor format variables. variables must identical names factor levels obsdat logdat numericVariables Character vector. Specify variables interpreted numeric. variables must identical names obsdat logdat. numeric variables, set numericVariables=NA. EstimateBycatch Logical. Defaults TRUE. TRUE, must provide logbook data source total effort logdat. FALSE produced data summaries obsdat . baseDir Character. directory save output. Defaults current working directory. runName Characer. Give name run, used set directory outputs runDescription Character. Brief summary run, used set directory outputs common Character vector. Provide common name species used output filess. Can vector names multiple species time. sp Character vector. Provide scientific name species used output files. Can vector names multiple species time reportType Character. Choose type report produced. Options html (default), pdf .","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/bycatchSetup.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Bycatch estimation data setup — bycatchSetup","text":"","code":"if (FALSE) { # \\dontrun{ library(BycatchEstimator) setupObj<-bycatchSetup( obsdat = obsdatExample, logdat = logdatExample, yearVar = \"Year\", obsEffort = \"sampled.sets\", logEffort = \"sets\", obsCatch = \"Catch\", catchUnit = \"number\", catchType = \"dead discard\", logNum = NA, sampleUnit = \"trips\", factorVariables = c(\"Year\",\"season\"), numericVariables = NA, EstimateBycatch = TRUE, baseDir = getwd(), runName = \"SimulatedExample\", runDescription = \"Example with simulated data\", common = \"Simulated species\", sp = \"Genus species\", reportType = \"html\" )} # }"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/CheckForPositives.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to look for positive and zero observations across levels of multiple factors — CheckForPositives","title":"Function to look for positive and zero observations across levels of multiple factors — CheckForPositives","text":"Function look positive zero observations across levels multiple factors","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/CheckForPositives.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to look for positive and zero observations across levels of multiple factors — CheckForPositives","text":"","code":"CheckForPositives(datval, species, variables)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/CheckForPositivesPlot.html","id":null,"dir":"Reference","previous_headings":"","what":"Same for plotting — CheckForPositivesPlot","title":"Same for plotting — CheckForPositivesPlot","text":"plotting","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/CheckForPositivesPlot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Same for plotting — CheckForPositivesPlot","text":"","code":"CheckForPositivesPlot(datval, species, variables)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/CheckForPositivesPlot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Same for plotting — CheckForPositivesPlot","text":"datval Value species Value variables Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/deltaEstimatorMean.html","id":null,"dir":"Reference","previous_headings":"","what":"Function for Pennington(1983) method mean — deltaEstimatorMean","title":"Function for Pennington(1983) method mean — deltaEstimatorMean","text":"Output mean delta estimator","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/deltaEstimatorMean.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function for Pennington(1983) method mean — deltaEstimatorMean","text":"","code":"deltaEstimatorMean(x)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/deltaEstimatorMean.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function for Pennington(1983) method mean — deltaEstimatorMean","text":"x vector data input","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/deltaEstimatorSE2.html","id":null,"dir":"Reference","previous_headings":"","what":"Function for Pennington(1983) method SE of the mean squAred — deltaEstimatorSE2","title":"Function for Pennington(1983) method SE of the mean squAred — deltaEstimatorSE2","text":"Output SE squared delta estimator","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/deltaEstimatorSE2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function for Pennington(1983) method SE of the mean squAred — deltaEstimatorSE2","text":"","code":"deltaEstimatorSE2(x)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/deltaEstimatorSE2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function for Pennington(1983) method SE of the mean squAred — deltaEstimatorSE2","text":"x vector data input","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/deltaEstimatorVar.html","id":null,"dir":"Reference","previous_headings":"","what":"Function for Pennington(1983) method variance — deltaEstimatorVar","title":"Function for Pennington(1983) method variance — deltaEstimatorVar","text":"Output variance delta estimator","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/deltaEstimatorVar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function for Pennington(1983) method variance — deltaEstimatorVar","text":"","code":"deltaEstimatorVar(x)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/deltaEstimatorVar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function for Pennington(1983) method variance — deltaEstimatorVar","text":"x vector data input","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/findBestModelFunc.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to find best model by information criteria, by model type — findBestModelFunc","title":"Function to find best model by information criteria, by model type — findBestModelFunc","text":"Function find best model information criteria, model type","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/findBestModelFunc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to find best model by information criteria, by model type — findBestModelFunc","text":"","code":"findBestModelFunc(   obsdatval,   modType,   requiredVarNames,   allVarNames,   complexModel,   randomEffects = NULL,   useParallel,   selectCriteria,   varExclude,   printOutput = FALSE,   catchType = NULL,   common = NULL,   dirname = NULL,   run = NULL,   modelScenario = NULL,   shortName = NULL )"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/findBestModelFunc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to find best model by information criteria, by model type — findBestModelFunc","text":"obsdatval Value modType Value requiredVarNames Value allVarNames Value complexModel Value randomEffects Value useParallel Value selectCriteria Value varExclude Value printOutput Value catchType Value common Value dirname Value run Value modelScenario Value shortName Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/fishTimeFunc.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to calculate number of hours fished in each day counted as first set to last haul — fishTimeFunc","title":"Function to calculate number of hours fished in each day counted as first set to last haul — fishTimeFunc","text":"Function calculate number hours fished day counted first set last haul fishTimeFunc","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/fishTimeFunc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to calculate number of hours fished in each day counted as first set to last haul — fishTimeFunc","text":"","code":"fishTimeFunc(timeout, timein, prop.sampled = 1)  fishTimeFunc(timeout, timein, prop.sampled = 1)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/FitModelFunc.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to fit a specified model formula and print outputs — FitModelFunc","title":"Function to fit a specified model formula and print outputs — FitModelFunc","text":"Function fit specified model formula print outputs","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/FitModelFunc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to fit a specified model formula and print outputs — FitModelFunc","text":"","code":"FitModelFunc(formula1, formula2, modType, obsdatval, outputDir)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/FitModelFunc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to fit a specified model formula and print outputs — FitModelFunc","text":"formula1 Value formula2 Value modType Value obsdatval Value outputDir Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/FitModelFuncCV.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to fit a specified model formula and print outputs for Cross validation — FitModelFuncCV","title":"Function to fit a specified model formula and print outputs for Cross validation — FitModelFuncCV","text":"Function fit specified model formula print outputs Cross validation","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/FitModelFuncCV.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to fit a specified model formula and print outputs for Cross validation — FitModelFuncCV","text":"","code":"FitModelFuncCV(formula1, modType, obsdatval)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/FitModelFuncCV.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to fit a specified model formula and print outputs for Cross validation — FitModelFuncCV","text":"formula1 Value modType Value obsdatval Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getdatefunc.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to convert data in excel format with date and time separated by a blank into an R format date — getdatefunc","title":"Function to convert data in excel format with date and time separated by a blank into an R format date — getdatefunc","text":"Function convert data excel format date time separated blank R format date","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getdatefunc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to convert data in excel format with date and time separated by a blank into an R format date — getdatefunc","text":"","code":"getdatefunc(x, dateformat = \"%m/%d/%Y\")"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getdatefunc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to convert data in excel format with date and time separated by a blank into an R format date — getdatefunc","text":"x data dateformat Date format, default %m/%d/%Y.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getdatefunc2.html","id":null,"dir":"Reference","previous_headings":"","what":"Function 2 to convert data in excel format with date and time separated by a blank into an R format date — getdatefunc2","title":"Function 2 to convert data in excel format with date and time separated by a blank into an R format date — getdatefunc2","text":"Function 2 convert data excel format date time separated blank R format date","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getdatefunc2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function 2 to convert data in excel format with date and time separated by a blank into an R format date — getdatefunc2","text":"","code":"getdatefunc2(x, dateformat = \"%d%b%Y\")"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getdatefunc2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function 2 to convert data in excel format with date and time separated by a blank into an R format date — getdatefunc2","text":"x data dateformat Date format, default %d%b%Y.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getDesignEstimates.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to make design based estimates of bycatch from the ratio estimator of Pennington Delta estimator, pooling as needed for strata missing data. stratification defined by designVars, then aggregated to strataVars — getDesignEstimates","title":"Function to make design based estimates of bycatch from the ratio estimator of Pennington Delta estimator, pooling as needed for strata missing data. stratification defined by designVars, then aggregated to strataVars — getDesignEstimates","text":"Function make design based estimates bycatch ratio estimator Pennington Delta estimator, pooling needed strata missing data. stratification defined designVars, aggregated strataVars","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getDesignEstimates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to make design based estimates of bycatch from the ratio estimator of Pennington Delta estimator, pooling as needed for strata missing data. stratification defined by designVars, then aggregated to strataVars — getDesignEstimates","text":"","code":"getDesignEstimates(   obsdatval,   logdatval,   strataVars,   designVars = NULL,   designPooling,   minStrataUnit = 1,   startYear,   poolingSum = NULL,   includePool = NULL )"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getDesignEstimates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to make design based estimates of bycatch from the ratio estimator of Pennington Delta estimator, pooling as needed for strata missing data. stratification defined by designVars, then aggregated to strataVars — getDesignEstimates","text":"obsdatval Value logdatval Value strataVars Value designVars Value designPooling Value minStrataUnit Value startYear Value poolingSum Value includePool Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getME.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate mean error — getME","title":"Calculate mean error — getME","text":"Calculate mean error","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getME.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate mean error — getME","text":"","code":"getME(yhat, y)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getModelSummaryTable.html","id":null,"dir":"Reference","previous_headings":"","what":"Return a table of model parameters and summaries — getModelSummaryTable","title":"Return a table of model parameters and summaries — getModelSummaryTable","text":"Return table model parameters summaries","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getModelSummaryTable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return a table of model parameters and summaries — getModelSummaryTable","text":"","code":"getModelSummaryTable(modfits, modTypes)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getModelSummaryTable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return a table of model parameters and summaries — getModelSummaryTable","text":"modfits list fitted model objects modTypes corresponding vector model types specified modelTry","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getPooling.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to setup pooling if requested for design estimators — getPooling","title":"Function to setup pooling if requested for design estimators — getPooling","text":"Function setup pooling requested design estimators","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getPooling.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to setup pooling if requested for design estimators — getPooling","text":"","code":"getPooling(   obsdatval,   logdatval,   minStrataUnit,   designVars,   pooledVar,   poolTypes,   adjacentNum )"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getPooling.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to setup pooling if requested for design estimators — getPooling","text":"obsdatval Value logdatval Value minStrataUnit Value designVars Value pooledVar Value poolTypes Value adjacentNum Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getRange.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to find range of a numerical variable — getRange","title":"Function to find range of a numerical variable — getRange","text":"Function find range numerical variable","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getRange.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to find range of a numerical variable — getRange","text":"","code":"getRange(x)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getRMSE.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate RMSE — getRMSE","title":"Calculate RMSE — getRMSE","text":"Calculate RMSE","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getRMSE.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate RMSE — getRMSE","text":"","code":"getRMSE(yhat, y)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getSimDeltaLN.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate mean and standard error of predictions for delta lognormal by simulation — getSimDeltaLN","title":"Generate mean and standard error of predictions for delta lognormal by simulation — getSimDeltaLN","text":"Generate mean standard error predictions delta lognormal simulation","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getSimDeltaLN.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate mean and standard error of predictions for delta lognormal by simulation — getSimDeltaLN","text":"","code":"getSimDeltaLN(modfitBin, modfitLnorm, df1, nsim = 10000)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getSimDeltaLN.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate mean and standard error of predictions for delta lognormal by simulation — getSimDeltaLN","text":"modfitBin Value modfitLnorm Value df1 Value nsim Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getSimSE.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate standard errors of predictions from simulation from regression coefficients and their var/covar matrix — getSimSE","title":"Generate standard errors of predictions from simulation from regression coefficients and their var/covar matrix — getSimSE","text":"Generate standard errors predictions simulation regression coefficients var/covar matrix","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getSimSE.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate standard errors of predictions from simulation from regression coefficients and their var/covar matrix — getSimSE","text":"","code":"getSimSE(modfit, df1, transFunc = \"none\", offsetval = NULL, nsim)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/getSimSE.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate standard errors of predictions from simulation from regression coefficients and their var/covar matrix — getSimSE","text":"modfit Value df1 Value transFunc Value offsetval Value nsim Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/gettimefunc2.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert time in excel format — gettimefunc2","title":"Convert time in excel format — gettimefunc2","text":"Convert time excel format","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/gettimefunc2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert time in excel format — gettimefunc2","text":"","code":"gettimefunc2(x)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/gettimefunc2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert time in excel format — gettimefunc2","text":"x data","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/Gm.html","id":null,"dir":"Reference","previous_headings":"","what":"Function for Pennington(1983) method — Gm","title":"Function for Pennington(1983) method — Gm","text":"Output result Gm(t) function use calculations design based delta estimator","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/Gm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function for Pennington(1983) method — Gm","text":"","code":"Gm(m, t, jmax = 10)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/Gm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function for Pennington(1983) method — Gm","text":"m m number non-zero values t t real number input jmax jmax upper limit infinute sum used calculations. 10 usually sufficient","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/goodman.var.html","id":null,"dir":"Reference","previous_headings":"","what":"Exact variance of the product of two independent variables, from Goodman (1960) — goodman.var","title":"Exact variance of the product of two independent variables, from Goodman (1960) — goodman.var","text":"Exact variance product two independent variables, Goodman (1960)","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/goodman.var.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Exact variance of the product of two independent variables, from Goodman (1960) — goodman.var","text":"","code":"goodman.var(x, y)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/ilogit.html","id":null,"dir":"Reference","previous_headings":"","what":"Inverse logit — ilogit","title":"Inverse logit — ilogit","text":"Inverse logit","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/ilogit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Inverse logit — ilogit","text":"","code":"ilogit(x)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/length.unique.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to count the number of unique levels in a vector — length.unique","title":"Function to count the number of unique levels in a vector — length.unique","text":"Function count number unique levels vector","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/length.unique.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to count the number of unique levels in a vector — length.unique","text":"","code":"# S3 method for class 'unique' length(x)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/LLSIM_BUM_Example_logbook.html","id":null,"dir":"Reference","previous_headings":"","what":"LLSIM-based example logbook program data set — LLSIM_BUM_Example_logbook","title":"LLSIM-based example logbook program data set — LLSIM_BUM_Example_logbook","text":"LLSIm BUM trip, 5% observer coverage including observed catch","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/LLSIM_BUM_Example_logbook.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"LLSIM-based example logbook program data set — LLSIM_BUM_Example_logbook","text":"","code":"LLSIM_BUM_Example_logbook"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/LLSIM_BUM_Example_logbook.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"LLSIM-based example logbook program data set — LLSIM_BUM_Example_logbook","text":"tibble 25 columns. row fishing trip. trip Trip idenifier Year Year month month year gear Gear code light Light code fleet Fleet number bait Bait code hook Hook code hooks Effort variable, hooks sets Number sets trip SWO Swordfish catch numbers BUM Blue marlin catch numbers lat5 Latitude assigned 5 degree grid lon5 Longitude assigned 5 degree grid lat Trip latitude lon Trip longitude hbf Hooks floats habSWO SDM habitat variable swordfish habBUM SDM habitat variables blue marlin season Categorical season variable area Categorical season variable unsampledEffort Unsampled effort","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/LLSIM_BUM_Example_logbook.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"LLSIM-based example logbook program data set — LLSIM_BUM_Example_logbook","text":"Simulated data","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/LLSIM_BUM_Example_observer.html","id":null,"dir":"Reference","previous_headings":"","what":"LLSIM-based example observer program data set — LLSIM_BUM_Example_observer","title":"LLSIM-based example observer program data set — LLSIM_BUM_Example_observer","text":"LLSIm BUM trip, 5% observer coverage including observed catch","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/LLSIM_BUM_Example_observer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"LLSIM-based example observer program data set — LLSIM_BUM_Example_observer","text":"","code":"LLSIM_BUM_Example_observer"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/LLSIM_BUM_Example_observer.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"LLSIM-based example observer program data set — LLSIM_BUM_Example_observer","text":"tibble 22 columns. row fishing trip. trip Trip idenifier Year Year month month year gear Gear code light Light code fleet Fleet number bait Bait code hook Hook code hooks Effort variable, hooks sets Number sets trip SWO Swordfish catch numbers BUM Blue marlin catch numbers lat5 Latitude assigned 5 degree grid lon5 Longitude assigned 5 degree grid lat Trip latitude lon Trip longitude hbf Hooks floats habSWO SDM habitat variable swordfish habBUM SDM habitat variables blue marlin season Categorical season variable area Categorical season variable","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/LLSIM_BUM_Example_observer.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"LLSIM-based example observer program data set — LLSIM_BUM_Example_observer","text":"Simulated data","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/lnorm.mean.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate lognormal mean and standard error from normal mean and se — lnorm.mean","title":"Calculate lognormal mean and standard error from normal mean and se — lnorm.mean","text":"Calculate lognormal mean standard error normal mean se","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/lnorm.mean.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate lognormal mean and standard error from normal mean and se — lnorm.mean","text":"","code":"lnorm.mean(x1, x1e)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/lnorm.se.html","id":null,"dir":"Reference","previous_headings":"","what":"lnorm.se — lnorm.se","title":"lnorm.se — lnorm.se","text":"lnorm.se","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/lnorm.se.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"lnorm.se — lnorm.se","text":"","code":"lnorm.se(x1, x1e)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/lo.se.html","id":null,"dir":"Reference","previous_headings":"","what":"Variance of a product from Lo et al. (1992) — lo.se","title":"Variance of a product from Lo et al. (1992) — lo.se","text":"Variance product Lo et al. (1992)","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/lo.se.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Variance of a product from Lo et al. (1992) — lo.se","text":"","code":"lo.se(x1, x1e, x2, x2e)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/lo.se.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Variance of a product from Lo et al. (1992) — lo.se","text":"x1 Value x1e Value x2 Value x2e Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/loadOutputs.html","id":null,"dir":"Reference","previous_headings":"","what":"loadOutputs — loadOutputs","title":"loadOutputs — loadOutputs","text":"Reads R objects created runs bycatchEstimator analysis","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/loadOutputs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"loadOutputs — loadOutputs","text":"","code":"loadOutputs(   baseDir = getwd(),   runName,   runDate = Sys.Date(),   designScenarios = NULL,   modelScenarios = NULL )"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/loadOutputs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"loadOutputs — loadOutputs","text":"baseDir base directory runs, bycatchSetup. runName run name, bycatchSetup. runDate date model run. Defaults current date, can set read models previously run. designScenarios Character vector designScenario values original run. NULL read design-based results. modelScenarios Character vector modelScenario values original run.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/loadOutputs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"loadOutputs — loadOutputs","text":"Returns list setupObj specified run, list called designObjList contains design-based model inputs outputs designScenario, modelObjList, models modelScenarios, data frame called allYearEstimates annual estimates across design-based model-based scenarios format suitable ggplot.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/logdatExample.html","id":null,"dir":"Reference","previous_headings":"","what":"Logbook simple example data set — logdatExample","title":"Logbook simple example data set — logdatExample","text":"Example data set logbook. Can used run bycatch estimation procedure along observer example data set.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/logdatExample.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Logbook simple example data set — logdatExample","text":"","code":"logdatExample"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/logdatExample.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Logbook simple example data set — logdatExample","text":"tibble 5 columns. EW East/West spatial grouping variable season season temporal grouping variable Year Year variable sets effort variable e.g., e.g. 1000 hook hours trips Number sample units record, trips example. example logbook data aggregated, thus row 1 trip","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/logdatExample.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Logbook simple example data set — logdatExample","text":"Simulated data","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makeIndexVar.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to get an abundance index with SE — makeIndexVar","title":"Function to get an abundance index with SE — makeIndexVar","text":"Function get abundance index SE","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makeIndexVar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to get an abundance index with SE — makeIndexVar","text":"","code":"makeIndexVar(   modfit1,   modfit2 = NULL,   modType,   indexVarNames,   newdat,   nsims,   printOutput = FALSE,   catchType = NULL,   common = NULL,   shortName = NULL,   dirname = NULL,   run = NULL,   modelScenario )"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makeIndexVar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to get an abundance index with SE — makeIndexVar","text":"modfit1 Value modfit2 Value modType Value newdat Value nsims Value printOutput Value catchType Value common Value shortName Value dirname Value run Value modelScenario Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makePredictions.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to predict CPUE without variances to get predictions quickly for cross validation — makePredictions","title":"Function to predict CPUE without variances to get predictions quickly for cross validation — makePredictions","text":"Function predict CPUE without variances get predictions quickly cross validation","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makePredictions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to predict CPUE without variances to get predictions quickly for cross validation — makePredictions","text":"","code":"makePredictions(modfit1, modfit2 = NULL, modType, newdat, obsdatval = NULL)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makePredictions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to predict CPUE without variances to get predictions quickly for cross validation — makePredictions","text":"modfit1 Value modfit2 Value modType Value newdat Value obsdatval Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makePredictionsDeltaVar.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate standard errors and confidence intervals of predictions with delta-method separately by year — makePredictionsDeltaVar","title":"Generate standard errors and confidence intervals of predictions with delta-method separately by year — makePredictionsDeltaVar","text":"Generate standard errors confidence intervals predictions delta-method separately year","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makePredictionsDeltaVar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate standard errors and confidence intervals of predictions with delta-method separately by year — makePredictionsDeltaVar","text":"","code":"makePredictionsDeltaVar(   modfit1,   newdat,   modtype,   obsdatval,   includeObsCatch,   requiredVarNames,   CIval,   printOutput = TRUE,   catchType,   common,   shortName,   dirname,   run,   modelScenario,   startYear )"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makePredictionsDeltaVar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate standard errors and confidence intervals of predictions with delta-method separately by year — makePredictionsDeltaVar","text":"modfit1 Value newdat Value modtype Value obsdatval Value includeObsCatch Value requiredVarNames Value CIval Value printOutput Value catchType Value common Value shortName value dirname Value run Value modelScenario Value startYear Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makePredictionsNoVar.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate predictions without estimating variance — makePredictionsNoVar","title":"Generate predictions without estimating variance — makePredictionsNoVar","text":"Generate predictions without estimating variance","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makePredictionsNoVar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate predictions without estimating variance — makePredictionsNoVar","text":"","code":"makePredictionsNoVar(   modfit1,   modfit2 = NULL,   modtype,   newdat,   obsdatval = NULL,   nsims,   includeObsCatch,   requiredVarNames,   printOutput = TRUE,   catchType,   common,   shortName,   dirname,   run,   modelScenario,   startYear )"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makePredictionsNoVar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate predictions without estimating variance — makePredictionsNoVar","text":"modfit1 Value modfit2 Value modtype Value newdat Value obsdatval Value includeObsCatch Value requiredVarNames Value printOutput Value catchType Value common Value shortName Value dirname Value run Value modelScenario Value startYear Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makePredictionsSimVar.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate standard errors and confidence intervals of predictions from simulation from regression coefficients and their var/covar matrix — makePredictionsSimVar","title":"Generate standard errors and confidence intervals of predictions from simulation from regression coefficients and their var/covar matrix — makePredictionsSimVar","text":"Generate standard errors confidence intervals predictions simulation regression coefficients var/covar matrix","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makePredictionsSimVar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate standard errors and confidence intervals of predictions from simulation from regression coefficients and their var/covar matrix — makePredictionsSimVar","text":"","code":"makePredictionsSimVar(   modfit1,   modfit2 = NULL,   modtype,   newdat,   obsdatval = NULL,   includeObsCatch,   nsim,   requiredVarNames,   CIval,   printOutput = TRUE,   catchType,   common,   dirname,   run )"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makePredictionsSimVar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate standard errors and confidence intervals of predictions from simulation from regression coefficients and their var/covar matrix — makePredictionsSimVar","text":"modfit1 Value modfit2 Value modtype Value newdat Value obsdatval Value includeObsCatch Value nsim Value requiredVarNames Value CIval Value printOutput Value catchType Value common Value dirname Value run Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makePredictionsSimVarBig.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate standard errors and confidence intervals of predictions from simulation from regression coefficients and their var/covar matrix — makePredictionsSimVarBig","title":"Generate standard errors and confidence intervals of predictions from simulation from regression coefficients and their var/covar matrix — makePredictionsSimVarBig","text":"Generate standard errors confidence intervals predictions simulation regression coefficients var/covar matrix","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makePredictionsSimVarBig.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate standard errors and confidence intervals of predictions from simulation from regression coefficients and their var/covar matrix — makePredictionsSimVarBig","text":"","code":"makePredictionsSimVarBig(   modfit1,   modfit2 = NULL,   newdat,   modtype,   obsdatval,   includeObsCatch,   nsim,   requiredVarNames,   CIval,   printOutput = TRUE,   catchType,   common,   shortName,   dirname,   run,   randomEffects,   randomEffects2,   modelScenario,   startYear )"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/makePredictionsSimVarBig.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate standard errors and confidence intervals of predictions from simulation from regression coefficients and their var/covar matrix — makePredictionsSimVarBig","text":"modfit1 Value modfit2 Value newdat Value modtype Value obsdatval Value includeObsCatch Value nsim Value requiredVarNames Value CIval Value printOutput Value catchType Value common Value shortName Value dirname Value run Value randomEffects Value randomEffects2 Value modelScenario Value startYear Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/MakeSummary.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to make data summarizes including ratio estimate at — MakeSummary","title":"Function to make data summarizes including ratio estimate at — MakeSummary","text":"stratification defined strataVars. pooling missing strata","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/MakeSummary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to make data summarizes including ratio estimate at — MakeSummary","text":"","code":"MakeSummary(obsdatval, logdatval, strataVars, EstimateBycatch, startYear)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/MakeSummary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to make data summarizes including ratio estimate at — MakeSummary","text":"obsdatval Value logdatval Value strataVars Value EstimateBycatch Value startYear Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/mostfreqfunc.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to find mode of a categorical variable — mostfreqfunc","title":"Function to find mode of a categorical variable — mostfreqfunc","text":"Function find mode categorical variable","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/mostfreqfunc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to find mode of a categorical variable — mostfreqfunc","text":"","code":"mostfreqfunc(x)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/mostfreqfunc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to find mode of a categorical variable — mostfreqfunc","text":"x value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/norm.mean.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate normal mean from lognormal mean and se — norm.mean","title":"Calculate normal mean from lognormal mean and se — norm.mean","text":"Calculate normal mean lognormal mean se","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/norm.mean.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate normal mean from lognormal mean and se — norm.mean","text":"","code":"norm.mean(x1, x1e)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/norm.mean.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate normal mean from lognormal mean and se — norm.mean","text":"x1 Value x1e Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/norm.se.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate standard error from lognormal mean and se — norm.se","title":"Calculate standard error from lognormal mean and se — norm.se","text":"Calculate standard error lognormal mean se","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/norm.se.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate standard error from lognormal mean and se — norm.se","text":"","code":"norm.se(x1, x1e)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/norm.se.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate standard error from lognormal mean and se — norm.se","text":"x1 Value x1e Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/obsdatExample.html","id":null,"dir":"Reference","previous_headings":"","what":"Observer simple example data set — obsdatExample","title":"Observer simple example data set — obsdatExample","text":"Example data set logbook. Can used run bycatch estimation procedure along observer example data set.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/obsdatExample.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Observer simple example data set — obsdatExample","text":"","code":"obsdatExample"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/obsdatExample.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Observer simple example data set — obsdatExample","text":"tibble 5 columns. EW East/West spatial grouping variable season season temporal grouping variable Year Year variable sampled.sets effort variable e.g., e.g. 1000 hook hours Catch Bycatch species numbers caught","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/obsdatExample.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Observer simple example data set — obsdatExample","text":"Simulated data","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/outlierCountFunc.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to count outliers, defined as more than numSD standard deviations from the mean. — outlierCountFunc","title":"Function to count outliers, defined as more than numSD standard deviations from the mean. — outlierCountFunc","text":"Function count outliers, defined numSD standard deviations mean.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/outlierCountFunc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to count outliers, defined as more than numSD standard deviations from the mean. — outlierCountFunc","text":"","code":"outlierCountFunc(x, numSD = 8)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/outlierCountFunc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to count outliers, defined as more than numSD standard deviations from the mean. — outlierCountFunc","text":"x Value numSD Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/plotCrossVal.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to plot boxplots of RMSE and ME across folds — plotCrossVal","title":"Function to plot boxplots of RMSE and ME across folds — plotCrossVal","text":"Function plot boxplots RMSE across folds","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/plotCrossVal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to plot boxplots of RMSE and ME across folds — plotCrossVal","text":"","code":"plotCrossVal(rmse, me, fileName)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/plotCrossVal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to plot boxplots of RMSE and ME across folds — plotCrossVal","text":"rmse Value Value fileName Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/plotIndex.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to plot abundance index plus minus standard error — plotIndex","title":"Function to plot abundance index plus minus standard error — plotIndex","text":"Function plot abundance index plus minus standard error","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/plotIndex.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to plot abundance index plus minus standard error — plotIndex","text":"","code":"plotIndex(   yearpred,   modType,   fileName,   subtext = \"\",   indexVarNames,   allVarNames,   startYear,   common,   run,   catchType,   catchUnit )"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/plotIndex.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to plot abundance index plus minus standard error — plotIndex","text":"yearpred Value modType Value fileName Value subtext Value indexVarNames Value allVarNames Value startYear Value common Value run Value catchType Value catchUnit Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/plotSums.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to plot either total positive trips (binomial) or total catch/bycatch (all other models) — plotSums","title":"Function to plot either total positive trips (binomial) or total catch/bycatch (all other models) — plotSums","text":"Function plot either total positive trips (binomial) total catch/bycatch (models)","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/plotSums.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to plot either total positive trips (binomial) or total catch/bycatch (all other models) — plotSums","text":"","code":"plotSums(   yearpred,   modType,   fileName,   subtext = \"\",   allVarNames,   startYear,   common,   run,   catchType,   catchUnit,   VarCalc )"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/plotSums.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to plot either total positive trips (binomial) or total catch/bycatch (all other models) — plotSums","text":"yearpred Value modType Value fileName Value subtext Value allVarNames Value startYear Value common Value run Value catchType Value catchUnit Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/plotSumsValidate.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to plot total catch by all models plus a validation number — plotSumsValidate","title":"Function to plot total catch by all models plus a validation number — plotSumsValidate","text":"Function plot total catch models plus validation number","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/plotSumsValidate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to plot total catch by all models plus a validation number — plotSumsValidate","text":"","code":"plotSumsValidate(   yearpred,   trueval,   fileName,   colName,   allVarNames,   startYear,   common,   run,   catchType,   catchUnit,   VarCalc )"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/plotSumsValidate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to plot total catch by all models plus a validation number — plotSumsValidate","text":"yearpred Value trueval Value fileName Value colName Value allVarNames Value startYear Value common Value run Value catchType Value catchUnit Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/ratio.func.html","id":null,"dir":"Reference","previous_headings":"","what":"Basic ratio estimator with variance (Cochran) — ratio.func","title":"Basic ratio estimator with variance (Cochran) — ratio.func","text":"Output mean standard error bycatch stratum total bycatch SE. Assumes unobserved strata zero catch","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/ratio.func.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Basic ratio estimator with variance (Cochran) — ratio.func","text":"","code":"ratio.func(x, y, g, X, N, G)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/ratio.func.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Basic ratio estimator with variance (Cochran) — ratio.func","text":"x x, y g vectors giving effort/catch, bycatch stratum observed sample unit. y x, y g vectors giving effort/catch, bycatch stratum observed sample unit. g x, y g vectors giving effort/catch, bycatch stratum observed sample unit. X X total effort/catch stratum N N total number sample units stratum, available, otherwise total effort G Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/ratioVar.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate variance of ratio estimator, from data already summarized by strata — ratioVar","title":"Calculate variance of ratio estimator, from data already summarized by strata — ratioVar","text":"Variables x=sum(obs Effort),X=sum(log Effort), n=observed sample units. N=log sample units, Rhat=mean(obs Catch)/mean(obs Effort), sx2, sy2, sxy observed variance effort catch, covariance","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/ratioVar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate variance of ratio estimator, from data already summarized by strata — ratioVar","text":"","code":"ratioVar(x, X, n, N, Rhat, sx2, sy2, sxy)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/ratioVar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate variance of ratio estimator, from data already summarized by strata — ratioVar","text":"x Value X Value n Value N Value Rhat Value sx2 Value sy2 Value sxy Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/ResidualsFunc.html","id":null,"dir":"Reference","previous_headings":"","what":"Function plots residuals with both R and Dharma library and calculate residual diagnostics. — ResidualsFunc","title":"Function plots residuals with both R and Dharma library and calculate residual diagnostics. — ResidualsFunc","text":"Function plots residuals R Dharma library calculate residual diagnostics.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/ResidualsFunc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function plots residuals with both R and Dharma library and calculate residual diagnostics. — ResidualsFunc","text":"","code":"ResidualsFunc(   modfit1,   modType,   fileName = NULL,   nsim = 250,   plotResiduals = TRUE )"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/ResidualsFunc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function plots residuals with both R and Dharma library and calculate residual diagnostics. — ResidualsFunc","text":"modfit1 Value modType Value fileName Value nsim Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/seasonfunc.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to convert months into 2, 3 4 or 6 numbered seasons — seasonfunc","title":"Function to convert months into 2, 3 4 or 6 numbered seasons — seasonfunc","text":"Function convert months 2, 3 4 6 numbered seasons","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/seasonfunc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to convert months into 2, 3 4 or 6 numbered seasons — seasonfunc","text":"","code":"seasonfunc(month, numseason = 4)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/simulateGammaDraw.html","id":null,"dir":"Reference","previous_headings":"","what":"simulateGammaDraw — simulateGammaDraw","title":"simulateGammaDraw — simulateGammaDraw","text":"simulateGammaDraw","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/simulateGammaDraw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"simulateGammaDraw — simulateGammaDraw","text":"","code":"simulateGammaDraw(modfit, nObs, b, NewRandomVals)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/simulateGammaDraw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"simulateGammaDraw — simulateGammaDraw","text":"modfit Value nObs Value b Value NewRandomVals Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/simulateNegBin1Draw.html","id":null,"dir":"Reference","previous_headings":"","what":"simulateNegBin1Draw — simulateNegBin1Draw","title":"simulateNegBin1Draw — simulateNegBin1Draw","text":"simulateNegBin1Draw","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/simulateNegBin1Draw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"simulateNegBin1Draw — simulateNegBin1Draw","text":"","code":"simulateNegBin1Draw(modfit, nObs, b, Effort, NewRandomVals = 0)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/simulateNegBin1Draw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"simulateNegBin1Draw — simulateNegBin1Draw","text":"modfit Value nObs Value b Value Effort Value NewRandomVals Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/simulateNegBinGam.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to simulate DHARMa residuals from a negative binomial GAM or GLM — simulateNegBinGam","title":"Function to simulate DHARMa residuals from a negative binomial GAM or GLM — simulateNegBinGam","text":"Function simulate DHARMa residuals negative binomial GAM GLM","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/simulateNegBinGam.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to simulate DHARMa residuals from a negative binomial GAM or GLM — simulateNegBinGam","text":"","code":"simulateNegBinGam(modfit, nsims = 250, offsetval = 1)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/simulateNegBinGam.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to simulate DHARMa residuals from a negative binomial GAM or GLM — simulateNegBinGam","text":"modfit Value nsims Value offsetval Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/simulateTMBTweedieDraw.html","id":null,"dir":"Reference","previous_headings":"","what":"simulateTMBTweedieDraw — simulateTMBTweedieDraw","title":"simulateTMBTweedieDraw — simulateTMBTweedieDraw","text":"simulateTMBTweedieDraw","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/simulateTMBTweedieDraw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"simulateTMBTweedieDraw — simulateTMBTweedieDraw","text":"","code":"simulateTMBTweedieDraw(modfit, nObs, b, Effort, NewRandomVals = 0)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/simulateTMBTweedieDraw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"simulateTMBTweedieDraw — simulateTMBTweedieDraw","text":"modfit Value nObs Value b Value Effort Value NewRandomVals Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/simulateTweedie.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate simulations to use as input to DHARMa residual calculations for the Tweedie from cpglm. — simulateTweedie","title":"Generate simulations to use as input to DHARMa residual calculations for the Tweedie from cpglm. — simulateTweedie","text":"Generate simulations use input DHARMa residual calculations Tweedie cpglm.","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/simulateTweedie.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate simulations to use as input to DHARMa residual calculations for the Tweedie from cpglm. — simulateTweedie","text":"","code":"simulateTweedie(modfit1, nsims)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/simulateTweedie.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate simulations to use as input to DHARMa residual calculations for the Tweedie from cpglm. — simulateTweedie","text":"modfit1 Value nsims Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/standard.error.html","id":null,"dir":"Reference","previous_headings":"","what":"Standard error of a mean — standard.error","title":"Standard error of a mean — standard.error","text":"Standard error mean","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/standard.error.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standard error of a mean — standard.error","text":"","code":"standard.error(x)"},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/standard.error.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standard error of a mean — standard.error","text":"x Value","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/yearfunc.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to group the specified number of years together, starting from the last year — yearfunc","title":"Function to group the specified number of years together, starting from the last year — yearfunc","text":"Function group specified number years together, starting last year","code":""},{"path":"https://ebabcock.github.io/BycatchEstimator/reference/yearfunc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to group the specified number of years together, starting from the last year — yearfunc","text":"","code":"yearfunc(year, numyears = 1)"}]

"0",""
"0","PriorSimPlot<-function(ModelObj,modelName,observed,nsim=20) {"
"0"," priorVals<-extract.prior(ModelObj,refresh=0)  #run without data"
"0"," simVals<-data.frame(sim(ModelObj,post=priorVals)) %>%"
"0","  slice_head(n=nsim) %>%"
"0","  mutate(sim=row_number())%>%"
"0","  pivot_longer(cols=contains(""X""),values_to=""simulated"",names_to=""point"") %>%"
"0","  mutate(point=as.numeric(sub(""X"","""",point)),"
"0","         observed=observed[point])"
"0","ggplot(simVals)+"
"0","  geom_density(aes(x=simulated,group=factor(sim)),color=""lightblue"",fill=NA)+"
"0","  geom_density(aes(x=observed),color=""darkblue"",fill=NA)+"
"0","  ggtitle(paste0(""Prior predictive simulation, "",modelName))"
"0","}"
"0","PosteriorSimPlot<-function(ModelObj,modelName,observed, nsim=20) {"
"0"," posteriorVals<-extract.samples(ModelObj) "
"0"," simVals<-data.frame(sim(ModelObj)) %>%"
"0","  slice_head(n=nsim) %>%"
"0","  mutate(sim=row_number())%>%"
"0","  pivot_longer(cols=contains(""X""),values_to=""simulated"",names_to=""point"") %>%"
"0","  mutate(point=as.numeric(sub(""X"","""",point)),"
"0","         observed=observed[point])"
"0"," ggplot(simVals)+"
"0","  geom_density(aes(x=simulated,group=factor(sim)),color=""lightblue"",fill=NA)+"
"0","  geom_density(aes(x=observed),color=""darkblue"",fill=NA)+"
"0","  ggtitle(paste0(""Posterior predictive simulation, "",modelName))"
"0","}"
"0","PriorSimPlot(sleepFit4,""Slope and intercept random"",observed=sleepstudy$y)"
"2","Compiling Stan program...
"
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1",""
"1",""
"1","/"
"1",""
"1",""
"1",""
"1",""
"1","-"
"1",""
"1",""
"1",""
"1",""
"1","\"
"1",""
"1",""
"1",""
"1",""
"1","|"
"1",""
"1",""
"1"," "
"1","Running MCMC with 1 chain, with 1 thread(s) per chain...

"
"2","Chain 1 Informational Message: The current Metropolis proposal is about to be rejected because of the following issue:
"
"2","Chain 1 Exception: normal_lpdf: Scale parameter is 0, but must be positive! (in 'C:/Users/ebabcock/AppData/Local/Temp/RtmpEZ7K9t/model-58f43b106c0.stan', line 23, column 4 to column 31)
"
"2","Chain 1 If this warning occurs sporadically, such as for highly constrained variable types like covariance matrices, then the sampler is fine,
"
"2","Chain 1 but if this warning occurs often then your model may be either severely ill-conditioned or misspecified.
"
"2","Chain 1 
"
"1","Chain"
"1"," "
"1","1"
"1"," "
"1","finished in"
"1"," "
"1","0.6"
"1"," "
"1","seconds.
"
"2","Warning: 1 of 1000 (0.0%) transitions ended with a divergence.
See https://mc-stan.org/misc/warnings for details.

"
"2","Warning: 1 of 1 chains had an E-BFMI less than 0.3.
See https://mc-stan.org/misc/warnings for details.

"
